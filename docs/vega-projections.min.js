!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(require("vega-projection")):"function"==typeof define&&define.amd?define(["vega-projection"],r):r((n=n||self).vega)}(this,(function(n){"use strict";function r(){return new t}function t(){this.reset()}t.prototype={constructor:t,reset:function(){this.s=this.t=0},add:function(n){i(e,n,this.t),i(this,e.s,this.s),this.s?this.t+=e.t:this.s=e.t},valueOf:function(){return this.s}};var e=new t;function i(n,r,t){var e=n.s=r+t,i=e-r,o=e-i;n.t=r-o+(t-i)}var o=1e-6,u=1e-12,a=Math.PI,c=a/2,l=a/4,f=2*a,v=180/a,g=a/180,s=Math.abs,p=Math.atan,h=Math.atan2,d=Math.cos,y=Math.sin,m=Math.sign||function(n){return n>0?1:n<0?-1:0},w=Math.sqrt;function E(n){return n>1?0:n<-1?a:Math.acos(n)}function S(n){return n>1?c:n<-1?-c:Math.asin(n)}function b(n){return(n=y(n/2))*n}function M(){}function R(n,r){n&&k.hasOwnProperty(n.type)&&k[n.type](n,r)}var P={Feature:function(n,r){R(n.geometry,r)},FeatureCollection:function(n,r){for(var t=n.features,e=-1,i=t.length;++e<i;)R(t[e].geometry,r)}},k={Sphere:function(n,r){r.sphere()},Point:function(n,r){n=n.coordinates,r.point(n[0],n[1],n[2])},MultiPoint:function(n,r){for(var t=n.coordinates,e=-1,i=t.length;++e<i;)n=t[e],r.point(n[0],n[1],n[2])},LineString:function(n,r){x(n.coordinates,r,0)},MultiLineString:function(n,r){for(var t=n.coordinates,e=-1,i=t.length;++e<i;)x(t[e],r,0)},Polygon:function(n,r){N(n.coordinates,r)},MultiPolygon:function(n,r){for(var t=n.coordinates,e=-1,i=t.length;++e<i;)N(t[e],r)},GeometryCollection:function(n,r){for(var t=n.geometries,e=-1,i=t.length;++e<i;)R(t[e],r)}};function x(n,r,t){var e,i=-1,o=n.length-t;for(r.lineStart();++i<o;)e=n[i],r.point(e[0],e[1],e[2]);r.lineEnd()}function N(n,r){var t=-1,e=n.length;for(r.polygonStart();++t<e;)x(n[t],r,1);r.polygonEnd()}function A(n,r){n&&P.hasOwnProperty(n.type)?P[n.type](n,r):R(n,r)}var G,C,F,z,H,L=r(),B=r(),j={point:M,lineStart:M,lineEnd:M,polygonStart:function(){L.reset(),j.lineStart=W,j.lineEnd=D},polygonEnd:function(){var n=+L;B.add(n<0?f+n:n),this.lineStart=this.lineEnd=this.point=M},sphere:function(){B.add(f)}};function W(){j.point=Q}function D(){q(G,C)}function Q(n,r){j.point=q,G=n,C=r,F=n*=g,z=d(r=(r*=g)/2+l),H=y(r)}function q(n,r){var t=(n*=g)-F,e=t>=0?1:-1,i=e*t,o=d(r=(r*=g)/2+l),u=y(r),a=H*u,c=z*o+a*d(i),f=a*e*y(i);L.add(h(f,c)),F=n,z=o,H=u}function I(n){return[h(n[1],n[0]),S(n[2])]}function T(n){var r=n[0],t=n[1],e=d(t);return[e*d(r),e*y(r),y(t)]}function V(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function U(n,r){return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]}function _(n,r){n[0]+=r[0],n[1]+=r[1],n[2]+=r[2]}function O(n,r){return[n[0]*r,n[1]*r,n[2]*r]}function K(n){var r=w(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=r,n[1]/=r,n[2]/=r}var J,X,Y,Z,$,nn,rn,tn,en,on,un,an,cn,ln,fn,vn,gn,sn,pn,hn,dn,yn,mn,wn,En,Sn,bn=r(),Mn={point:Rn,lineStart:kn,lineEnd:xn,polygonStart:function(){Mn.point=Nn,Mn.lineStart=An,Mn.lineEnd=Gn,bn.reset(),j.polygonStart()},polygonEnd:function(){j.polygonEnd(),Mn.point=Rn,Mn.lineStart=kn,Mn.lineEnd=xn,L<0?(J=-(Y=180),X=-(Z=90)):bn>o?Z=90:bn<-o&&(X=-90),on[0]=J,on[1]=Y},sphere:function(){J=-(Y=180),X=-(Z=90)}};function Rn(n,r){en.push(on=[J=n,Y=n]),r<X&&(X=r),r>Z&&(Z=r)}function Pn(n,r){var t=T([n*g,r*g]);if(tn){var e=U(tn,t),i=U([e[1],-e[0],0],e);K(i),i=I(i);var o,u=n-$,a=u>0?1:-1,c=i[0]*v*a,l=s(u)>180;l^(a*$<c&&c<a*n)?(o=i[1]*v)>Z&&(Z=o):l^(a*$<(c=(c+360)%360-180)&&c<a*n)?(o=-i[1]*v)<X&&(X=o):(r<X&&(X=r),r>Z&&(Z=r)),l?n<$?Cn(J,n)>Cn(J,Y)&&(Y=n):Cn(n,Y)>Cn(J,Y)&&(J=n):Y>=J?(n<J&&(J=n),n>Y&&(Y=n)):n>$?Cn(J,n)>Cn(J,Y)&&(Y=n):Cn(n,Y)>Cn(J,Y)&&(J=n)}else en.push(on=[J=n,Y=n]);r<X&&(X=r),r>Z&&(Z=r),tn=t,$=n}function kn(){Mn.point=Pn}function xn(){on[0]=J,on[1]=Y,Mn.point=Rn,tn=null}function Nn(n,r){if(tn){var t=n-$;bn.add(s(t)>180?t+(t>0?360:-360):t)}else nn=n,rn=r;j.point(n,r),Pn(n,r)}function An(){j.lineStart()}function Gn(){Nn(nn,rn),j.lineEnd(),s(bn)>o&&(J=-(Y=180)),on[0]=J,on[1]=Y,tn=null}function Cn(n,r){return(r-=n)<0?r+360:r}function Fn(n,r){return n[0]-r[0]}function zn(n,r){return n[0]<=n[1]?n[0]<=r&&r<=n[1]:r<n[0]||n[1]<r}var Hn={sphere:M,point:Ln,lineStart:jn,lineEnd:Qn,polygonStart:function(){Hn.lineStart=qn,Hn.lineEnd=In},polygonEnd:function(){Hn.lineStart=jn,Hn.lineEnd=Qn}};function Ln(n,r){n*=g;var t=d(r*=g);Bn(t*d(n),t*y(n),y(r))}function Bn(n,r,t){++un,cn+=(n-cn)/un,ln+=(r-ln)/un,fn+=(t-fn)/un}function jn(){Hn.point=Wn}function Wn(n,r){n*=g;var t=d(r*=g);wn=t*d(n),En=t*y(n),Sn=y(r),Hn.point=Dn,Bn(wn,En,Sn)}function Dn(n,r){n*=g;var t=d(r*=g),e=t*d(n),i=t*y(n),o=y(r),u=h(w((u=En*o-Sn*i)*u+(u=Sn*e-wn*o)*u+(u=wn*i-En*e)*u),wn*e+En*i+Sn*o);an+=u,vn+=u*(wn+(wn=e)),gn+=u*(En+(En=i)),sn+=u*(Sn+(Sn=o)),Bn(wn,En,Sn)}function Qn(){Hn.point=Ln}function qn(){Hn.point=Tn}function In(){Vn(yn,mn),Hn.point=Ln}function Tn(n,r){yn=n,mn=r,n*=g,r*=g,Hn.point=Vn;var t=d(r);wn=t*d(n),En=t*y(n),Sn=y(r),Bn(wn,En,Sn)}function Vn(n,r){n*=g;var t=d(r*=g),e=t*d(n),i=t*y(n),o=y(r),u=En*o-Sn*i,a=Sn*e-wn*o,c=wn*i-En*e,l=w(u*u+a*a+c*c),f=S(l),v=l&&-f/l;pn+=v*u,hn+=v*a,dn+=v*c,an+=f,vn+=f*(wn+(wn=e)),gn+=f*(En+(En=i)),sn+=f*(Sn+(Sn=o)),Bn(wn,En,Sn)}function Un(n){un=an=cn=ln=fn=vn=gn=sn=pn=hn=dn=0,A(n,Hn);var r=pn,t=hn,e=dn,i=r*r+t*t+e*e;return i<u&&(r=vn,t=gn,e=sn,an<o&&(r=cn,t=ln,e=fn),(i=r*r+t*t+e*e)<u)?[NaN,NaN]:[h(t,r)*v,S(e/w(i))*v]}function _n(n){return function(){return n}}function On(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function Kn(n,r){return[s(n)>a?n+Math.round(-n/f)*f:n,r]}function Jn(n,r,t){return(n%=f)?r||t?On(Yn(n),Zn(r,t)):Yn(n):r||t?Zn(r,t):Kn}function Xn(n){return function(r,t){return[(r+=n)>a?r-f:r<-a?r+f:r,t]}}function Yn(n){var r=Xn(n);return r.invert=Xn(-n),r}function Zn(n,r){var t=d(n),e=y(n),i=d(r),o=y(r);function u(n,r){var u=d(r),a=d(n)*u,c=y(n)*u,l=y(r),f=l*t+a*e;return[h(c*i-f*o,a*t-l*e),S(f*i+c*o)]}return u.invert=function(n,r){var u=d(r),a=d(n)*u,c=y(n)*u,l=y(r),f=l*i-c*o;return[h(c*i+l*o,a*t+f*e),S(f*t-a*e)]},u}function $n(n){function r(r){return(r=n(r[0]*g,r[1]*g))[0]*=v,r[1]*=v,r}return n=Jn(n[0]*g,n[1]*g,n.length>2?n[2]*g:0),r.invert=function(r){return(r=n.invert(r[0]*g,r[1]*g))[0]*=v,r[1]*=v,r},r}function nr(n,r,t,e,i,o){if(t){var u=d(r),a=y(r),c=e*t;null==i?(i=r+e*f,o=r-c/2):(i=rr(u,i),o=rr(u,o),(e>0?i<o:i>o)&&(i+=e*f));for(var l,v=i;e>0?v>o:v<o;v-=c)l=I([u,-a*d(v),-a*y(v)]),n.point(l[0],l[1])}}function rr(n,r){(r=T(r))[0]-=n,K(r);var t=E(-r[1]);return((-r[2]<0?-t:t)+f-o)%f}function tr(){var n,r=[];return{point:function(r,t){n.push([r,t])},lineStart:function(){r.push(n=[])},lineEnd:M,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var t=r;return r=[],n=null,t}}}function er(n,r){return s(n[0]-r[0])<o&&s(n[1]-r[1])<o}function ir(n,r,t,e){this.x=n,this.z=r,this.o=t,this.e=e,this.v=!1,this.n=this.p=null}function or(n,r,t,e,i){var o,u,a=[],c=[];if(n.forEach((function(n){if(!((r=n.length-1)<=0)){var r,t,e=n[0],u=n[r];if(er(e,u)){for(i.lineStart(),o=0;o<r;++o)i.point((e=n[o])[0],e[1]);i.lineEnd()}else a.push(t=new ir(e,n,null,!0)),c.push(t.o=new ir(e,null,t,!1)),a.push(t=new ir(u,n,null,!1)),c.push(t.o=new ir(u,null,t,!0))}})),a.length){for(c.sort(r),ur(a),ur(c),o=0,u=c.length;o<u;++o)c[o].e=t=!t;for(var l,f,v=a[0];;){for(var g=v,s=!0;g.v;)if((g=g.n)===v)return;l=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(s)for(o=0,u=l.length;o<u;++o)i.point((f=l[o])[0],f[1]);else e(g.x,g.n.x,1,i);g=g.n}else{if(s)for(l=g.p.z,o=l.length-1;o>=0;--o)i.point((f=l[o])[0],f[1]);else e(g.x,g.p.x,-1,i);g=g.p}l=(g=g.o).z,s=!s}while(!g.v);i.lineEnd()}}}function ur(n){if(r=n.length){for(var r,t,e=0,i=n[0];++e<r;)i.n=t=n[e],t.p=i,i=t;i.n=t=n[0],t.p=i}}Kn.invert=Kn;var ar=r();function cr(n){return s(n[0])<=a?n[0]:m(n[0])*((s(n[0])+a)%f-a)}function lr(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}var fr,vr;1===(fr=lr).length&&(vr=fr,fr=function(n,r){return lr(vr(n),r)});function gr(n){for(var r,t,e,i=n.length,o=-1,u=0;++o<i;)u+=n[o].length;for(t=new Array(u);--i>=0;)for(r=(e=n[i]).length;--r>=0;)t[--u]=e[r];return t}function sr(n,r,t,e){return function(i){var u,v,g,s=r(i),p=tr(),m=r(p),w=!1,E={point:b,lineStart:R,lineEnd:P,polygonStart:function(){E.point=k,E.lineStart=x,E.lineEnd=N,v=[],u=[]},polygonEnd:function(){E.point=b,E.lineStart=R,E.lineEnd=P,v=gr(v);var n=function(n,r){var t=cr(r),e=r[1],i=y(e),u=[y(t),-d(t),0],v=0,g=0;ar.reset(),1===i?e=c+o:-1===i&&(e=-c-o);for(var s=0,p=n.length;s<p;++s)if(w=(m=n[s]).length)for(var m,w,E=m[w-1],b=cr(E),M=E[1]/2+l,R=y(M),P=d(M),k=0;k<w;++k,b=N,R=G,P=C,E=x){var x=m[k],N=cr(x),A=x[1]/2+l,G=y(A),C=d(A),F=N-b,z=F>=0?1:-1,H=z*F,L=H>a,B=R*G;if(ar.add(h(B*z*y(H),P*C+B*d(H))),v+=L?F+z*f:F,L^b>=t^N>=t){var j=U(T(E),T(x));K(j);var W=U(u,j);K(W);var D=(L^F>=0?-1:1)*S(W[2]);(e>D||e===D&&(j[0]||j[1]))&&(g+=L^F>=0?1:-1)}}return(v<-o||v<o&&ar<-o)^1&g}(u,e);v.length?(w||(i.polygonStart(),w=!0),or(v,hr,n,t,i)):n&&(w||(i.polygonStart(),w=!0),i.lineStart(),t(null,null,1,i),i.lineEnd()),w&&(i.polygonEnd(),w=!1),v=u=null},sphere:function(){i.polygonStart(),i.lineStart(),t(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function b(r,t){n(r,t)&&i.point(r,t)}function M(n,r){s.point(n,r)}function R(){E.point=M,s.lineStart()}function P(){E.point=b,s.lineEnd()}function k(n,r){g.push([n,r]),m.point(n,r)}function x(){m.lineStart(),g=[]}function N(){k(g[0][0],g[0][1]),m.lineEnd();var n,r,t,e,o=m.clean(),a=p.result(),c=a.length;if(g.pop(),u.push(g),g=null,c)if(1&o){if((r=(t=a[0]).length-1)>0){for(w||(i.polygonStart(),w=!0),i.lineStart(),n=0;n<r;++n)i.point((e=t[n])[0],e[1]);i.lineEnd()}}else c>1&&2&o&&a.push(a.pop().concat(a.shift())),v.push(a.filter(pr))}return E}}function pr(n){return n.length>1}function hr(n,r){return((n=n.x)[0]<0?n[1]-c-o:c-n[1])-((r=r.x)[0]<0?r[1]-c-o:c-r[1])}var dr=sr((function(){return!0}),(function(n){var r,t=NaN,e=NaN,i=NaN;return{lineStart:function(){n.lineStart(),r=1},point:function(u,l){var f=u>0?a:-a,v=s(u-t);s(v-a)<o?(n.point(t,e=(e+l)/2>0?c:-c),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(f,e),n.point(u,e),r=0):i!==f&&v>=a&&(s(t-i)<o&&(t-=i*o),s(u-f)<o&&(u-=f*o),e=function(n,r,t,e){var i,u,a=y(n-t);return s(a)>o?p((y(r)*(u=d(e))*y(t)-y(e)*(i=d(r))*y(n))/(i*u*a)):(r+e)/2}(t,e,u,l),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(f,e),r=0),n.point(t=u,e=l),i=f},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-r}}}),(function(n,r,t,e){var i;if(null==n)i=t*c,e.point(-a,i),e.point(0,i),e.point(a,i),e.point(a,0),e.point(a,-i),e.point(0,-i),e.point(-a,-i),e.point(-a,0),e.point(-a,i);else if(s(n[0]-r[0])>o){var u=n[0]<r[0]?a:-a;i=t*u/2,e.point(-u,i),e.point(0,i),e.point(u,i)}else e.point(r[0],r[1])}),[-a,-c]);function yr(n){var r=d(n),t=6*g,e=r>0,i=s(r)>o;function u(n,t){return d(n)*d(t)>r}function c(n,t,e){var i=[1,0,0],u=U(T(n),T(t)),c=V(u,u),l=u[0],f=c-l*l;if(!f)return!e&&n;var v=r*c/f,g=-r*l/f,p=U(i,u),h=O(i,v);_(h,O(u,g));var d=p,y=V(h,d),m=V(d,d),E=y*y-m*(V(h,h)-1);if(!(E<0)){var S=w(E),b=O(d,(-y-S)/m);if(_(b,h),b=I(b),!e)return b;var M,R=n[0],P=t[0],k=n[1],x=t[1];P<R&&(M=R,R=P,P=M);var N=P-R,A=s(N-a)<o;if(!A&&x<k&&(M=k,k=x,x=M),A||N<o?A?k+x>0^b[1]<(s(b[0]-R)<o?k:x):k<=b[1]&&b[1]<=x:N>a^(R<=b[0]&&b[0]<=P)){var G=O(d,(-y+S)/m);return _(G,h),[b,I(G)]}}}function l(r,t){var i=e?n:a-n,o=0;return r<-i?o|=1:r>i&&(o|=2),t<-i?o|=4:t>i&&(o|=8),o}return sr(u,(function(n){var r,t,f,v,g;return{lineStart:function(){v=f=!1,g=1},point:function(s,p){var h,d=[s,p],y=u(s,p),m=e?y?0:l(s,p):y?l(s+(s<0?a:-a),p):0;if(!r&&(v=f=y)&&n.lineStart(),y!==f&&(!(h=c(r,d))||er(r,h)||er(d,h))&&(d[0]+=o,d[1]+=o,y=u(d[0],d[1])),y!==f)g=0,y?(n.lineStart(),h=c(d,r),n.point(h[0],h[1])):(h=c(r,d),n.point(h[0],h[1]),n.lineEnd()),r=h;else if(i&&r&&e^y){var w;m&t||!(w=c(d,r,!0))||(g=0,e?(n.lineStart(),n.point(w[0][0],w[0][1]),n.point(w[1][0],w[1][1]),n.lineEnd()):(n.point(w[1][0],w[1][1]),n.lineEnd(),n.lineStart(),n.point(w[0][0],w[0][1])))}!y||r&&er(r,d)||n.point(d[0],d[1]),r=d,f=y,t=m},lineEnd:function(){f&&n.lineEnd(),r=null},clean:function(){return g|(v&&f)<<1}}}),(function(r,e,i,o){nr(o,n,t,i,r,e)}),e?[0,-n]:[-a,n-a])}var mr=1e9,wr=-mr;function Er(n,r,t,e){function i(i,o){return n<=i&&i<=t&&r<=o&&o<=e}function u(i,o,u,c){var f=0,v=0;if(null==i||(f=a(i,u))!==(v=a(o,u))||l(i,o)<0^u>0)do{c.point(0===f||3===f?n:t,f>1?e:r)}while((f=(f+u+4)%4)!==v);else c.point(o[0],o[1])}function a(e,i){return s(e[0]-n)<o?i>0?0:3:s(e[0]-t)<o?i>0?2:1:s(e[1]-r)<o?i>0?1:0:i>0?3:2}function c(n,r){return l(n.x,r.x)}function l(n,r){var t=a(n,1),e=a(r,1);return t!==e?t-e:0===t?r[1]-n[1]:1===t?n[0]-r[0]:2===t?n[1]-r[1]:r[0]-n[0]}return function(o){var a,l,f,v,g,s,p,h,d,y,m,w=o,E=tr(),S={point:b,lineStart:function(){S.point=M,l&&l.push(f=[]);y=!0,d=!1,p=h=NaN},lineEnd:function(){a&&(M(v,g),s&&d&&E.rejoin(),a.push(E.result()));S.point=b,d&&w.lineEnd()},polygonStart:function(){w=E,a=[],l=[],m=!0},polygonEnd:function(){var r=function(){for(var r=0,t=0,i=l.length;t<i;++t)for(var o,u,a=l[t],c=1,f=a.length,v=a[0],g=v[0],s=v[1];c<f;++c)o=g,u=s,v=a[c],g=v[0],s=v[1],u<=e?s>e&&(g-o)*(e-u)>(s-u)*(n-o)&&++r:s<=e&&(g-o)*(e-u)<(s-u)*(n-o)&&--r;return r}(),t=m&&r,i=(a=gr(a)).length;(t||i)&&(o.polygonStart(),t&&(o.lineStart(),u(null,null,1,o),o.lineEnd()),i&&or(a,c,r,u,o),o.polygonEnd());w=o,a=l=f=null}};function b(n,r){i(n,r)&&w.point(n,r)}function M(o,u){var a=i(o,u);if(l&&f.push([o,u]),y)v=o,g=u,s=a,y=!1,a&&(w.lineStart(),w.point(o,u));else if(a&&d)w.point(o,u);else{var c=[p=Math.max(wr,Math.min(mr,p)),h=Math.max(wr,Math.min(mr,h))],E=[o=Math.max(wr,Math.min(mr,o)),u=Math.max(wr,Math.min(mr,u))];!function(n,r,t,e,i,o){var u,a=n[0],c=n[1],l=0,f=1,v=r[0]-a,g=r[1]-c;if(u=t-a,v||!(u>0)){if(u/=v,v<0){if(u<l)return;u<f&&(f=u)}else if(v>0){if(u>f)return;u>l&&(l=u)}if(u=i-a,v||!(u<0)){if(u/=v,v<0){if(u>f)return;u>l&&(l=u)}else if(v>0){if(u<l)return;u<f&&(f=u)}if(u=e-c,g||!(u>0)){if(u/=g,g<0){if(u<l)return;u<f&&(f=u)}else if(g>0){if(u>f)return;u>l&&(l=u)}if(u=o-c,g||!(u<0)){if(u/=g,g<0){if(u>f)return;u>l&&(l=u)}else if(g>0){if(u<l)return;u<f&&(f=u)}return l>0&&(n[0]=a+l*v,n[1]=c+l*g),f<1&&(r[0]=a+f*v,r[1]=c+f*g),!0}}}}}(c,E,n,r,t,e)?a&&(w.lineStart(),w.point(o,u),m=!1):(d||(w.lineStart(),w.point(c[0],c[1])),w.point(E[0],E[1]),a||w.lineEnd(),m=!1)}p=o,h=u,d=a}return S}}function Sr(n,r){var t=n[0]*g,e=n[1]*g,i=r[0]*g,o=r[1]*g,u=d(e),a=y(e),c=d(o),l=y(o),f=u*d(t),s=u*y(t),p=c*d(i),m=c*y(i),E=2*S(w(b(o-e)+u*c*b(i-t))),M=y(E),R=E?function(n){var r=y(n*=E)/M,t=y(E-n)/M,e=t*f+r*p,i=t*s+r*m,o=t*a+r*l;return[h(i,e)*v,h(o,w(e*e+i*i))*v]}:function(){return[t*v,e*v]};return R.distance=E,R}function br(n){return n}var Mr=1/0,Rr=Mr,Pr=-Mr,kr=Pr,xr={point:function(n,r){n<Mr&&(Mr=n);n>Pr&&(Pr=n);r<Rr&&(Rr=r);r>kr&&(kr=r)},lineStart:M,lineEnd:M,polygonStart:M,polygonEnd:M,result:function(){var n=[[Mr,Rr],[Pr,kr]];return Pr=kr=-(Rr=Mr=1/0),n}};function Nr(n){return function(r){var t=new Ar;for(var e in n)t[e]=n[e];return t.stream=r,t}}function Ar(){}function Gr(n,r,t){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=e&&n.clipExtent(null),A(t,n.stream(xr)),r(xr.result()),null!=e&&n.clipExtent(e),n}function Cr(n,r,t){return Gr(n,(function(t){var e=r[1][0]-r[0][0],i=r[1][1]-r[0][1],o=Math.min(e/(t[1][0]-t[0][0]),i/(t[1][1]-t[0][1])),u=+r[0][0]+(e-o*(t[1][0]+t[0][0]))/2,a=+r[0][1]+(i-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([u,a])}),t)}Ar.prototype={constructor:Ar,point:function(n,r){this.stream.point(n,r)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Fr=16,zr=d(30*g);function Hr(n,r){return+r?function(n,r){function t(e,i,u,a,c,l,f,v,g,p,d,y,m,E){var b=f-e,M=v-i,R=b*b+M*M;if(R>4*r&&m--){var P=a+p,k=c+d,x=l+y,N=w(P*P+k*k+x*x),A=S(x/=N),G=s(s(x)-1)<o||s(u-g)<o?(u+g)/2:h(k,P),C=n(G,A),F=C[0],z=C[1],H=F-e,L=z-i,B=M*H-b*L;(B*B/R>r||s((b*H+M*L)/R-.5)>.3||a*p+c*d+l*y<zr)&&(t(e,i,u,a,c,l,F,z,G,P/=N,k/=N,x,m,E),E.point(F,z),t(F,z,G,P,k,x,f,v,g,p,d,y,m,E))}}return function(r){var e,i,o,u,a,c,l,f,v,g,s,p,h={point:d,lineStart:y,lineEnd:w,polygonStart:function(){r.polygonStart(),h.lineStart=E},polygonEnd:function(){r.polygonEnd(),h.lineStart=y}};function d(t,e){t=n(t,e),r.point(t[0],t[1])}function y(){f=NaN,h.point=m,r.lineStart()}function m(e,i){var o=T([e,i]),u=n(e,i);t(f,v,l,g,s,p,f=u[0],v=u[1],l=e,g=o[0],s=o[1],p=o[2],Fr,r),r.point(f,v)}function w(){h.point=d,r.lineEnd()}function E(){y(),h.point=S,h.lineEnd=b}function S(n,r){m(e=n,r),i=f,o=v,u=g,a=s,c=p,h.point=m}function b(){t(f,v,l,g,s,p,i,o,e,u,a,c,Fr,r),h.lineEnd=w,w()}return h}}(n,r):function(n){return Nr({point:function(r,t){r=n(r,t),this.stream.point(r[0],r[1])}})}(n)}var Lr=Nr({point:function(n,r){this.stream.point(n*g,r*g)}});function Br(n,r,t){function e(e,i){return[r+n*e,t-n*i]}return e.invert=function(e,i){return[(e-r)/n,(t-i)/n]},e}function jr(n,r,t,e){var i=d(e),o=y(e),u=i*n,a=o*n,c=i/n,l=o/n,f=(o*t-i*r)/n,v=(o*r+i*t)/n;function g(n,e){return[u*n-a*e+r,t-a*n-u*e]}return g.invert=function(n,r){return[c*n-l*r+f,v-l*n-c*r]},g}function Wr(n){return Dr((function(){return n}))()}function Dr(n){var r,t,e,i,o,u,a,c,l,f,s=150,p=480,h=250,d=0,y=0,m=0,E=0,S=0,b=0,M=null,R=dr,P=null,k=br,x=.5;function N(n){return c(n[0]*g,n[1]*g)}function A(n){return(n=c.invert(n[0],n[1]))&&[n[0]*v,n[1]*v]}function G(){var n=jr(s,0,0,b).apply(null,r(d,y)),e=(b?jr:Br)(s,p-n[0],h-n[1],b);return t=Jn(m,E,S),a=On(r,e),c=On(t,a),u=Hr(a,x),C()}function C(){return l=f=null,N}return N.stream=function(n){return l&&f===n?l:l=Lr(function(n){return Nr({point:function(r,t){var e=n(r,t);return this.stream.point(e[0],e[1])}})}(t)(R(u(k(f=n)))))},N.preclip=function(n){return arguments.length?(R=n,M=void 0,C()):R},N.postclip=function(n){return arguments.length?(k=n,P=e=i=o=null,C()):k},N.clipAngle=function(n){return arguments.length?(R=+n?yr(M=n*g):(M=null,dr),C()):M*v},N.clipExtent=function(n){return arguments.length?(k=null==n?(P=e=i=o=null,br):Er(P=+n[0][0],e=+n[0][1],i=+n[1][0],o=+n[1][1]),C()):null==P?null:[[P,e],[i,o]]},N.scale=function(n){return arguments.length?(s=+n,G()):s},N.translate=function(n){return arguments.length?(p=+n[0],h=+n[1],G()):[p,h]},N.center=function(n){return arguments.length?(d=n[0]%360*g,y=n[1]%360*g,G()):[d*v,y*v]},N.rotate=function(n){return arguments.length?(m=n[0]%360*g,E=n[1]%360*g,S=n.length>2?n[2]%360*g:0,G()):[m*v,E*v,S*v]},N.angle=function(n){return arguments.length?(b=n%360*g,G()):b*v},N.precision=function(n){return arguments.length?(u=Hr(a,x=n*n),C()):w(x)},N.fitExtent=function(n,r){return Cr(N,n,r)},N.fitSize=function(n,r){return function(n,r,t){return Cr(n,[[0,0],r],t)}(N,n,r)},N.fitWidth=function(n,r){return function(n,r,t){return Gr(n,(function(t){var e=+r,i=e/(t[1][0]-t[0][0]),o=(e-i*(t[1][0]+t[0][0]))/2,u=-i*t[0][1];n.scale(150*i).translate([o,u])}),t)}(N,n,r)},N.fitHeight=function(n,r){return function(n,r,t){return Gr(n,(function(t){var e=+r,i=e/(t[1][1]-t[0][1]),o=-i*t[0][0],u=(e-i*(t[1][1]+t[0][1]))/2;n.scale(150*i).translate([o,u])}),t)}(N,n,r)},function(){return r=n.apply(this,arguments),N.invert=r.invert&&A,G()}}function Qr(n){return function(r,t){var e=d(r),i=d(t),o=n(e*i);return[o*i*y(r),o*y(t)]}}function qr(n){return function(r,t){var e=w(r*r+t*t),i=n(e),o=y(i),u=d(i);return[h(r*o,e*u),S(e&&t*o/e)]}}var Ir=Qr((function(n){return w(2/(1+n))}));Ir.invert=qr((function(n){return 2*S(n/2)}));var Tr=Qr((function(n){return(n=E(n))&&n/y(n)}));function Vr(n,r){return[n,r]}function Ur(){return Wr(Vr).scale(152.63)}function _r(n,r){var t=d(r),e=d(n)*t;return[t*y(n)/e,y(r)/e]}function Or(){return Wr(_r).scale(144.049).clipAngle(60)}function Kr(n,r){var t=r*r,e=t*t;return[n*(.8707-.131979*t+e*(e*(.003971*t-.001529*e)-.013791)),r*(1.007226+t*(.015085+e*(.028874*t-.044475-.005916*e)))]}function Jr(n,r){return[d(r)*y(n),y(r)]}function Xr(){return Wr(Jr).scale(249.5).clipAngle(90+o)}Tr.invert=qr((function(n){return n})),Vr.invert=Vr,_r.invert=qr(p),Kr.invert=function(n,r){var t,e=r,i=25;do{var u=e*e,a=u*u;e-=t=(e*(1.007226+u*(.015085+a*(.028874*u-.044475-.005916*a)))-r)/(1.007226+u*(.045255+a*(.259866*u-.311325-.005916*11*a)))}while(s(t)>o&&--i>0);return[n/(.8707+(u=e*e)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),e]},Jr.invert=qr(S);var Yr=Math.abs,Zr=Math.atan,$r=Math.atan2,nt=Math.cos,rt=Math.exp,tt=Math.floor,et=Math.log,it=Math.max,ot=Math.min,ut=Math.pow,at=Math.round,ct=Math.sign||function(n){return n>0?1:n<0?-1:0},lt=Math.sin,ft=Math.tan,vt=1e-6,gt=1e-12,st=Math.PI,pt=st/2,ht=st/4,dt=Math.SQRT1_2,yt=Rt(2),mt=Rt(st),wt=2*st,Et=180/st,St=st/180;function bt(n){return n>1?pt:n<-1?-pt:Math.asin(n)}function Mt(n){return n>1?0:n<-1?st:Math.acos(n)}function Rt(n){return n>0?Math.sqrt(n):0}function Pt(n){return(rt(n)-rt(-n))/2}function kt(n){return(rt(n)+rt(-n))/2}function xt(n){var r=ft(n/2),t=2*et(nt(n/2))/(r*r);function e(n,r){var e=nt(n),i=nt(r),o=lt(r),u=i*e,a=-((1-u?et((1+u)/2)/(1-u):-.5)+t/(1+u));return[a*i*lt(n),a*o]}return e.invert=function(r,e){var i,o=Rt(r*r+e*e),u=-n/2,a=50;if(!o)return[0,0];do{var c=u/2,l=nt(c),f=lt(c),v=ft(c),g=et(1/l);u-=i=(2/v*g-t*v-o)/(-g/(f*f)+1-t/(2*l*l))}while(Yr(i)>vt&&--a>0);var s=lt(u);return[$r(r*s,o*nt(u)),bt(e*s/o)]},e}function Nt(n,r){var t=nt(r),e=function(n){return n?n/Math.sin(n):1}(Mt(t*nt(n/=2)));return[2*t*lt(n)*e,lt(r)*e]}function At(n){var r=lt(n),t=nt(n),e=n>=0?1:-1,i=ft(e*n),o=(1+r-t)/2;function u(n,u){var a=nt(u),c=nt(n/=2);return[(1+a)*lt(n),(e*u>-$r(c,i)-.001?0:10*-e)+o+lt(u)*t-(1+a)*r*c]}return u.invert=function(n,u){var a=0,c=0,l=50;do{var f=nt(a),v=lt(a),g=nt(c),s=lt(c),p=1+g,h=p*v-n,d=o+s*t-p*r*f-u,y=p*f/2,m=-v*s,w=r*p*v/2,E=t*g+r*f*s,S=m*w-E*y,b=(d*m-h*E)/S/2,M=(h*w-d*y)/S;a-=b,c-=M}while((Yr(b)>vt||Yr(M)>vt)&&--l>0);return e*c>-$r(nt(a),i)-.001?[2*a,c]:null},u}function Gt(n,r){var t=ft(r/2),e=Rt(1-t*t),i=1+e*nt(n/=2),o=lt(n)*e/i,u=t/i,a=o*o,c=u*u;return[4/3*o*(3+a-3*c),4/3*u*(3+3*a-c)]}Nt.invert=function(n,r){if(!(n*n+4*r*r>st*st+vt)){var t=n,e=r,i=25;do{var o,u=lt(t),a=lt(t/2),c=nt(t/2),l=lt(e),f=nt(e),v=lt(2*e),g=l*l,s=f*f,p=a*a,h=1-s*c*c,d=h?Mt(f*c)*Rt(o=1/h):o=0,y=2*d*f*a-n,m=d*l-r,w=o*(s*p+d*f*c*g),E=o*(.5*u*v-2*d*l*a),S=.25*o*(v*a-d*l*s*u),b=o*(g*c+d*p*f),M=E*S-b*w;if(!M)break;var R=(m*E-y*b)/M,P=(y*S-m*w)/M;t-=R,e-=P}while((Yr(R)>vt||Yr(P)>vt)&&--i>0);return[t,e]}},Gt.invert=function(n,r){if(r*=3/8,!(n*=3/8)&&Yr(r)>1)return null;var t=1+n*n+r*r,e=Rt((t-Rt(t*t-4*r*r))/2),i=bt(e)/3,o=e?function(n){return et(n+Rt(n*n-1))}(Yr(r/e))/3:function(n){return et(n+Rt(n*n+1))}(Yr(n))/3,u=nt(i),a=kt(o),c=a*a-u*u;return[2*ct(n)*$r(Pt(o)*u,.25-c),2*ct(r)*$r(a*lt(i),.25+c)]};var Ct=Rt(8),Ft=et(1+yt);function zt(n,r){var t=Yr(r);return t<ht?[n,et(ft(ht+r/2))]:[n*nt(t)*(2*yt-1/lt(t)),ct(r)*(2*yt*(t-ht)-et(ft(t/2)))]}function Ht(n){var r=2*st/n;function t(n,t){var e=Tr(n,t);if(Yr(n)>pt){var i=$r(e[1],e[0]),o=Rt(e[0]*e[0]+e[1]*e[1]),u=r*at((i-pt)/r)+pt,a=$r(lt(i-=u),2-nt(i));i=u+bt(st/o*lt(a))-a,e[0]=o*nt(i),e[1]=o*lt(i)}return e}return t.invert=function(n,t){var e=Rt(n*n+t*t);if(e>pt){var i=$r(t,n),o=r*at((i-pt)/r)+pt,u=i>o?-1:1,a=e*nt(o-i),c=1/ft(u*Mt((a-st)/Rt(st*(st-2*a)+e*e)));i=o+2*Zr((c+u*Rt(c*c-3))/3),n=e*nt(i),t=e*lt(i)}return Tr.invert(n,t)},t}function Lt(n,r){if(arguments.length<2&&(r=n),1===r)return Ir;if(r===1/0)return Bt;function t(t,e){var i=Ir(t/r,e);return i[0]*=n,i}return t.invert=function(t,e){var i=Ir.invert(t/n,e);return i[0]*=r,i},t}function Bt(n,r){return[n*nt(r)/nt(r/=2),2*lt(r)]}function jt(){var n=Lt(1.68,2);return function(r,t){if(r+t<-1.4){var e=(r-t+1.6)*(r+t+1.4)/8;r+=e,t-=.8*e*lt(t+st/2)}var i=n(r,t),o=(1-nt(r*t))/12;return i[1]<0&&(i[0]*=1+o),i[1]>0&&(i[1]*=1+o/1.5*i[0]*i[0]),i}}function Wt(n,r){var t,e=n*lt(r),i=30;do{r-=t=(r+lt(r)-e)/(1+nt(r))}while(Yr(t)>vt&&--i>0);return r/2}function Dt(n,r,t){function e(e,i){return[n*e*nt(i=Wt(t,i)),r*lt(i)]}return e.invert=function(e,i){return i=bt(i/r),[e/(n*nt(i)),bt((2*i+lt(2*i))/t)]},e}zt.invert=function(n,r){if((e=Yr(r))<Ft)return[n,2*Zr(rt(r))-pt];var t,e,i=ht,o=25;do{var u=nt(i/2),a=ft(i/2);i-=t=(Ct*(i-ht)-et(a)-e)/(Ct-u*u/(2*a))}while(Yr(t)>gt&&--o>0);return[n/(nt(i)*(Ct-1/lt(i))),ct(r)*i]},Bt.invert=function(n,r){var t=2*bt(r/2);return[n*nt(t/2)/nt(t),t]};var Qt=Dt(yt/pt,yt,st);var qt=2.00276,It=1.11072;function Tt(n,r){var t=Wt(st,r);return[qt*n/(1/nt(r)+It/nt(t)),(r+yt*lt(t))/qt]}function Vt(n){var r=0,t=Dr(n),e=t(r);return e.parallel=function(n){return arguments.length?t(r=n*St):r*Et},e}function Ut(n,r){return[n*nt(r),r]}function _t(n){if(!n)return Ut;var r=1/ft(n);function t(t,e){var i=r+n-e,o=i?t*nt(e)/i:i;return[i*lt(o),r-i*nt(o)]}return t.invert=function(t,e){var i=Rt(t*t+(e=r-e)*e),o=r+n-i;return[i/nt(o)*$r(t,e),o]},t}function Ot(n){function r(r,t){var e=pt-t,i=e?r*n*lt(e)/e:e;return[e*lt(i)/n,pt-e*nt(i)]}return r.invert=function(r,t){var e=r*n,i=pt-t,o=Rt(e*e+i*i),u=$r(e,i);return[(o?o/lt(o):1)*u/n,pt-o]},r}Tt.invert=function(n,r){var t,e,i=qt*r,o=r<0?-ht:ht,u=25;do{e=i-yt*lt(o),o-=t=(lt(2*o)+2*o-st*lt(e))/(2*nt(2*o)+2+st*nt(e)*yt*nt(o))}while(Yr(t)>vt&&--u>0);return e=i-yt*lt(o),[n*(1/nt(e)+It/nt(o))/qt,e]},Ut.invert=function(n,r){return[n/nt(r),r]};var Kt=Dt(1,4/st,st);function Jt(n,r,t,e,i,o){var u,a=nt(o);if(Yr(n)>1||Yr(o)>1)u=Mt(t*i+r*e*a);else{var c=lt(n/2),l=lt(o/2);u=2*bt(Rt(c*c+r*e*l*l))}return Yr(u)>vt?[u,$r(e*lt(o),r*i-t*e*a)]:[0,0]}function Xt(n,r,t){return Mt((n*n+r*r-t*t)/(2*n*r))}function Yt(n){return n-2*st*tt((n+st)/(2*st))}function Zt(n,r,t){for(var e,i=[[n[0],n[1],lt(n[1]),nt(n[1])],[r[0],r[1],lt(r[1]),nt(r[1])],[t[0],t[1],lt(t[1]),nt(t[1])]],o=i[2],u=0;u<3;++u,o=e)e=i[u],o.v=Jt(e[1]-o[1],o[3],o[2],e[3],e[2],e[0]-o[0]),o.point=[0,0];var a=Xt(i[0].v[0],i[2].v[0],i[1].v[0]),c=Xt(i[0].v[0],i[1].v[0],i[2].v[0]),l=st-a;i[2].point[1]=0,i[0].point[0]=-(i[1].point[0]=i[0].v[0]/2);var f=[i[2].point[0]=i[0].point[0]+i[2].v[0]*nt(a),2*(i[0].point[1]=i[1].point[1]=i[2].v[0]*lt(a))];return function(n,r){var t,e=lt(r),o=nt(r),u=new Array(3);for(t=0;t<3;++t){var a=i[t];if(u[t]=Jt(r-a[1],a[3],a[2],o,e,n-a[0]),!u[t][0])return a.point;u[t][1]=Yt(u[t][1]-a.v[1])}var v=f.slice();for(t=0;t<3;++t){var g=2==t?0:t+1,s=Xt(i[t].v[0],u[t][0],u[g][0]);u[t][1]<0&&(s=-s),t?1==t?(s=c-s,v[0]-=u[t][0]*nt(s),v[1]-=u[t][0]*lt(s)):(s=l-s,v[0]+=u[t][0]*nt(s),v[1]+=u[t][0]*lt(s)):(v[0]+=u[t][0]*nt(s),v[1]-=u[t][0]*lt(s))}return v[0]/=3,v[1]/=3,v}}function $t(n){return n[0]*=St,n[1]*=St,n}function ne(n,r,t){var e=Un({type:"MultiPoint",coordinates:[n,r,t]}),i=[-e[0],-e[1]],o=$n(i),u=Wr(Zt($t(o(n)),$t(o(r)),$t(o(t)))).rotate(i),a=u.center;return delete u.rotate,u.center=function(n){return arguments.length?a(o(n)):o.invert(a())},u.clipAngle(90)}function re(n,r){var t=Rt(1-lt(r));return[2/mt*n*t,mt*(1-t)]}function te(n){var r=ft(n);function t(n,t){return[n,(n?n/lt(n):1)*(lt(t)*nt(n)-r*nt(t))]}return t.invert=r?function(n,t){n&&(t*=lt(n)/n);var e=nt(n);return[n,2*$r(Rt(e*e+r*r-t*t)-e,r-t)]}:function(n,r){return[n,bt(n?r*ft(n)/n:r)]},t}re.invert=function(n,r){var t=(t=r/mt-1)*t;return[t>0?n*Rt(st/t)/2:0,bt(1-t)]};var ee=Rt(3);function ie(n,r){return[ee*n*(2*nt(2*r/3)-1)/mt,ee*mt*lt(r/3)]}function oe(n){var r=nt(n);function t(n,t){return[n*r,lt(t)/r]}return t.invert=function(n,t){return[n/r,bt(t*r)]},t}function ue(n){var r=nt(n);function t(n,t){return[n*r,(1+r)*ft(t/2)]}return t.invert=function(n,t){return[n/r,2*Zr(t/(1+r))]},t}function ae(n,r){var t=Rt(8/(3*st));return[t*n*(1-Yr(r)/st),t*r]}function ce(n,r){var t=Rt(4-3*lt(Yr(r)));return[2/Rt(6*st)*n*t,ct(r)*Rt(2*st/3)*(2-t)]}function le(n,r){var t=Rt(st*(4+st));return[2/t*n*(1+Rt(1-4*r*r/(st*st))),4/t*r]}function fe(n,r){var t=(2+pt)*lt(r);r/=2;for(var e=0,i=1/0;e<10&&Yr(i)>vt;e++){var o=nt(r);r-=i=(r+lt(r)*(o+2)-t)/(2*o*(1+o))}return[2/Rt(st*(4+st))*n*(1+nt(r)),2*Rt(st/(4+st))*lt(r)]}function ve(n,r){return[n*(1+nt(r))/Rt(2+st),2*r/Rt(2+st)]}function ge(n,r){for(var t=(1+pt)*lt(r),e=0,i=1/0;e<10&&Yr(i)>vt;e++)r-=i=(r+lt(r)-t)/(1+nt(r));return t=Rt(2+st),[n*(1+nt(r))/t,2*r/t]}ie.invert=function(n,r){var t=3*bt(r/(ee*mt));return[mt*n/(ee*(2*nt(2*t/3)-1)),t]},ae.invert=function(n,r){var t=Rt(8/(3*st)),e=r/t;return[n/(t*(1-Yr(e)/st)),e]},ce.invert=function(n,r){var t=2-Yr(r)/Rt(2*st/3);return[n*Rt(6*st)/(2*t),ct(r)*bt((4-t*t)/3)]},le.invert=function(n,r){var t=Rt(st*(4+st))/2;return[n*t/(1+Rt(1-r*r*(4+st)/(4*st))),r*t/2]},fe.invert=function(n,r){var t=r*Rt((4+st)/st)/2,e=bt(t),i=nt(e);return[n/(2/Rt(st*(4+st))*(1+i)),bt((e+t*(i+2))/(2+pt))]},ve.invert=function(n,r){var t=Rt(2+st),e=r*t/2;return[t*n/(1+nt(e)),e]},ge.invert=function(n,r){var t=1+pt,e=Rt(t/2);return[2*n*e/(1+nt(r*=e)),bt((r+lt(r))/t)]};var se=3+2*yt;function pe(n,r){var t=lt(n/=2),e=nt(n),i=Rt(nt(r)),o=nt(r/=2),u=lt(r)/(o+yt*e*i),a=Rt(2/(1+u*u)),c=Rt((yt*o+(e+t)*i)/(yt*o+(e-t)*i));return[se*(a*(c-1/c)-2*et(c)),se*(a*u*(c+1/c)-2*Zr(u))]}pe.invert=function(n,r){if(!(t=Gt.invert(n/1.2,1.065*r)))return null;var t,e=t[0],i=t[1],o=20;n/=se,r/=se;do{var u=e/2,a=i/2,c=lt(u),l=nt(u),f=lt(a),v=nt(a),g=nt(i),s=Rt(g),p=f/(v+yt*l*s),h=p*p,d=Rt(2/(1+h)),y=(yt*v+(l+c)*s)/(yt*v+(l-c)*s),m=Rt(y),w=m-1/m,E=m+1/m,S=d*w-2*et(m)-n,b=d*p*E-2*Zr(p)-r,M=f&&dt*s*c*h/f,R=(yt*l*v+s)/(2*(v+yt*l*s)*(v+yt*l*s)*s),P=-.5*p*d*d*d,k=P*M,x=P*R,N=(N=2*v+yt*s*(l-c))*N*m,A=(yt*l*v*s+g)/N,G=-yt*c*f/(s*N),C=w*k-2*A/m+d*(A+A/y),F=w*x-2*G/m+d*(G+G/y),z=p*E*k-2*M/(1+h)+d*E*M+d*p*(A-A/y),H=p*E*x-2*R/(1+h)+d*E*R+d*p*(G-G/y),L=F*z-H*C;if(!L)break;var B=(b*F-S*H)/L,j=(S*z-b*C)/L;e-=B,i=it(-pt,ot(pt,i-j))}while((Yr(B)>vt||Yr(j)>vt)&&--o>0);return Yr(Yr(i)-pt)<vt?[0,i]:o&&[e,i]};var he=nt(35*St);function de(n,r){var t=ft(r/2);return[n*he*Rt(1-t*t),(1+he)*t]}function ye(n,r){var t=r/2,e=nt(t);return[2*n/mt*nt(r)*e*e,mt*ft(t)]}function me(n,r,t){var e,i,o,u=100;t=void 0===t?0:+t,r=+r;do{(i=n(t))===(o=n(t+vt))&&(o=i+vt),t-=e=-1*vt*(i-r)/(i-o)}while(u-- >0&&Yr(e)>vt);return u<0?NaN:t}function we(n){var r=1-n,t=i(st,0)[0]-i(-st,0)[0],e=Rt(2*(i(0,pt)[1]-i(0,-pt)[1])/t);function i(t,e){var i=nt(e),o=lt(e);return[i/(r+n*i)*t,r*e+n*o]}function o(n,r){var t=i(n,r);return[t[0]*e,t[1]/e]}function u(n){return o(0,n)[1]}return o.invert=function(t,i){var o=me(u,i);return[t/e*(n+r/nt(o)),o]},o}function Ee(n){return[n[0]/2,bt(ft(n[1]/2*St))*Et]}function Se(n){return[2*n[0],2*Zr(lt(n[1]*St))*Et]}function be(n,r){var t=2*st/r,e=n*n;function i(r,i){var o=Tr(r,i),u=o[0],a=o[1],c=u*u+a*a;if(c>e){var l=Rt(c),f=$r(a,u),v=t*at(f/t),g=f-v,s=n*nt(g),p=(n*lt(g)-g*lt(s))/(pt-s),h=Me(g,p),d=(st-n)/Re(h,s,st);u=l;var y,m=50;do{u-=y=(n+Re(h,s,u)*d-l)/(h(u)*d)}while(Yr(y)>vt&&--m>0);a=g*lt(u),u<pt&&(a-=p*(u-pt));var w=lt(v),E=nt(v);o[0]=u*E-a*w,o[1]=u*w+a*E}return o}return i.invert=function(r,i){var o=r*r+i*i;if(o>e){var u=Rt(o),a=$r(i,r),c=t*at(a/t),l=a-c;r=u*nt(l),i=u*lt(l);for(var f=r-pt,v=lt(r),g=i/v,s=r<pt?1/0:0,p=10;;){var h=n*lt(g),d=n*nt(g),y=lt(d),m=pt-d,w=(h-g*y)/m,E=Me(g,w);if(Yr(s)<gt||!--p)break;g-=s=(g*v-w*f-i)/(v-2*f*(m*(d+g*h*nt(d)-y)-h*(h-g*y))/(m*m))}r=(u=n+Re(E,d,r)*(st-n)/Re(E,d,st))*nt(a=c+g),i=u*lt(a)}return Tr.invert(r,i)},i}function Me(n,r){return function(t){var e=n*nt(t);return t<pt&&(e-=r),Rt(1+e*e)}}function Re(n,r,t){for(var e=(t-r)/50,i=n(r)+n(t),o=1,u=r;o<50;++o)i+=2*n(u+=e);return.5*i*e}function Pe(n,r,t,e,i,o,u,a){function c(c,l){if(!l)return[n*c/st,0];var f=l*l,v=n+f*(r+f*(t+f*e)),g=l*(i-1+f*(o-a+f*u)),s=(v*v+g*g)/(2*g),p=c*bt(v/s)/st;return[s*lt(p),l*(1+f*a)+s*(1-nt(p))]}return arguments.length<8&&(a=0),c.invert=function(c,l){var f,v,g=st*c/n,s=l,p=50;do{var h=s*s,d=n+h*(r+h*(t+h*e)),y=s*(i-1+h*(o-a+h*u)),m=d*d+y*y,w=2*y,E=m/w,S=E*E,b=bt(d/E)/st,M=g*b,R=d*d,P=(2*r+h*(4*t+6*h*e))*s,k=i+h*(3*o+5*h*u),x=(2*(d*P+y*(k-1))*w-m*(2*(k-1)))/(w*w),N=nt(M),A=lt(M),G=E*N,C=E*A,F=g/st*(1/Rt(1-R/S))*(P*E-d*x)/S,z=C-c,H=s*(1+h*a)+E-G-l,L=x*A+G*F,B=G*b,j=1+x-(x*N-C*F),W=C*b,D=L*W-j*B;if(!D)break;g-=f=(H*L-z*j)/D,s-=v=(z*W-H*B)/D}while((Yr(f)>vt||Yr(v)>vt)&&--p>0);return[g,s]},c}de.invert=function(n,r){var t=r/(1+he);return[n&&n/(he*Rt(1-t*t)),2*Zr(t)]},ye.invert=function(n,r){var t=Zr(r/mt),e=nt(t),i=2*t;return[n*mt/2/(nt(i)*e*e),i]};var ke=Pe(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);var xe=Pe(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);var Ne=Pe(5/6*st,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Ae(n,r){var t=n*n,e=r*r;return[n*(1-.162388*e)*(.87-952426e-9*t*t),r*(1+e/12)]}Ae.invert=function(n,r){var t,e=n,i=r,o=50;do{var u=i*i;i-=t=(i*(1+u/12)-r)/(1+u/4)}while(Yr(t)>vt&&--o>0);o=50,n/=1-.162388*u;do{var a=(a=e*e)*a;e-=t=(e*(.87-952426e-9*a)-n)/(.87-.00476213*a)}while(Yr(t)>vt&&--o>0);return[e,i]};var Ge=Pe(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Ce(n){var r=n(pt,0)[0]-n(-pt,0)[0];function t(t,e){var i=t>0?-.5:.5,o=n(t+i*st,e);return o[0]-=i*r,o}return n.invert&&(t.invert=function(t,e){var i=t>0?-.5:.5,o=n.invert(t+i*r,e),u=o[0]-i*st;return u<-st?u+=2*st:u>st&&(u-=2*st),o[0]=u,o}),t}function Fe(n,r){var t=ct(n),e=ct(r),i=nt(r),o=nt(n)*i,u=lt(n)*i,a=lt(e*r);n=Yr($r(u,a)),r=bt(o),Yr(n-pt)>vt&&(n%=pt);var c=function(n,r){if(r===pt)return[0,0];var t,e,i=lt(r),o=i*i,u=o*o,a=1+u,c=1+3*u,l=1-u,f=bt(1/Rt(a)),v=l+o*a*f,g=(1-i)/v,s=Rt(g),p=g*a,h=Rt(p),d=s*l;if(0===n)return[0,-(d+o*h)];var y,m=nt(r),w=1/m,E=2*i*m,S=(-v*m-(-3*o+f*c)*E*(1-i))/(v*v),b=-w*E,M=-w*(o*a*S+g*c*E),R=-2*w*(l*(.5*S/s)-2*o*s*E),P=4*n/st;if(n>.222*st||r<st/4&&n>.175*st){if(t=(d+o*Rt(p*(1+u)-d*d))/(1+u),n>st/4)return[t,t];var k=t,x=.5*t;t=.5*(x+k),e=50;do{var N=Rt(p-t*t),A=t*(R+b*N)+M*bt(t/h)-P;if(!A)break;A<0?x=t:k=t,t=.5*(x+k)}while(Yr(k-x)>vt&&--e>0)}else{t=vt,e=25;do{var G=t*t,C=Rt(p-G),F=R+b*C,z=t*F+M*bt(t/h)-P,H=F+(M-b*G)/C;t-=y=C?z/H:0}while(Yr(y)>vt&&--e>0)}return[t,-d-o*Rt(p-t*t)]}(n>st/4?pt-n:n,r);return n>st/4&&(a=c[0],c[0]=-c[1],c[1]=-a),c[0]*=t,c[1]*=-e,c}function ze(n,r){var t,e,i,o,u,a;if(r<vt)return[(o=lt(n))-(t=r*(n-o*(e=nt(n)))/4)*e,e+t*o,1-r*o*o/2,n-t];if(r>=1-vt)return t=(1-r)/4,i=1/(e=kt(n)),[(o=((a=rt(2*(a=n)))-1)/(a+1))+t*((u=e*Pt(n))-n)/(e*e),i-t*o*i*(u-n),i+t*o*i*(u+n),2*Zr(rt(n))-pt+t*(u-n)/e];var c=[1,0,0,0,0,0,0,0,0],l=[Rt(r),0,0,0,0,0,0,0,0],f=0;for(e=Rt(1-r),u=1;Yr(l[f]/c[f])>vt&&f<8;)t=c[f++],l[f]=(t-e)/2,c[f]=(t+e)/2,e=Rt(t*e),u*=2;i=u*c[f]*n;do{i=(bt(o=l[f]*lt(e=i)/c[f])+i)/2}while(--f);return[lt(i),o=nt(i),o/nt(i-e),i]}function He(n,r){if(!r)return n;if(1===r)return et(ft(n/2+ht));for(var t=1,e=Rt(1-r),i=Rt(r),o=0;Yr(i)>vt;o++){if(n%st){var u=Zr(e*ft(n)/t);u<0&&(u+=st),n+=u+~~(n/st)*st}else n+=n;i=(t+e)/2,e=Rt(t*e),i=((t=i)-e)/2}return n/(ut(2,o)*t)}function Le(n,r){var t=(yt-1)/(yt+1),e=Rt(1-t*t),i=He(pt,e*e),o=et(ft(st/4+Yr(r)/2)),u=rt(-1*o)/Rt(t),a=function(n,r){var t=n*n,e=r+1,i=1-t-r*r;return[.5*((n>=0?pt:-pt)-$r(i,2*n)),-.25*et(i*i+4*t)+.5*et(e*e+t)]}(u*nt(-1*n),u*lt(-1*n)),c=function(n,r,t){var e=Yr(n),i=Pt(Yr(r));if(e){var o=1/lt(e),u=1/(ft(e)*ft(e)),a=-(u+t*(i*i*o*o)-1+t),c=(-a+Rt(a*a-4*((t-1)*u)))/2;return[He(Zr(1/Rt(c)),t)*ct(n),He(Zr(Rt((c/u-1)/t)),1-t)*ct(r)]}return[0,He(Zr(i),1-t)*ct(r)]}(a[0],a[1],e*e);return[-c[1],(r>=0?1:-1)*(.5*i-c[0])]}function Be(n){var r=lt(n),t=nt(n),e=je(n);function i(n,i){var o=e(n,i);n=o[0],i=o[1];var u=lt(i),a=nt(i),c=nt(n),l=Mt(r*u+t*a*c),f=lt(l),v=Yr(f)>vt?l/f:1;return[v*t*lt(n),(Yr(n)>pt?v:-v)*(r*a-t*u*c)]}return e.invert=je(-n),i.invert=function(n,t){var i=Rt(n*n+t*t),o=-lt(i),u=nt(i),a=i*u,c=-t*o,l=i*r,f=Rt(a*a+c*c-l*l),v=$r(a*l+c*f,c*l-a*f),g=(i>pt?-1:1)*$r(n*o,i*nt(v)*u+t*lt(v)*o);return e.invert(g,v)},i}function je(n){var r=lt(n),t=nt(n);return function(n,e){var i=nt(e),o=nt(n)*i,u=lt(n)*i,a=lt(e);return[$r(u,o*t-a*r),bt(a*t+o*r)]}}function We(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}Fe.invert=function(n,r){Yr(n)>1&&(n=2*ct(n)-n),Yr(r)>1&&(r=2*ct(r)-r);var t=ct(n),e=ct(r),i=-t*n,o=-e*r,u=o/i<1,a=function(n,r){var t=0,e=1,i=.5,o=50;for(;;){var u=i*i,a=Rt(i),c=bt(1/Rt(1+u)),l=1-u+i*(1+u)*c,f=(1-a)/l,v=Rt(f),g=f*(1+u),s=v*(1-u),p=Rt(g-n*n),h=r+s+i*p;if(Yr(e-t)<gt||0==--o||0===h)break;h>0?t=i:e=i,i=.5*(t+e)}if(!o)return null;var d=bt(a),y=nt(d),m=1/y,w=2*a*y,E=(-l*y-(-3*i+c*(1+3*u))*w*(1-a))/(l*l);return[st/4*(n*(-2*m*(.5*E/v*(1-u)-2*i*v*w)+-m*w*p)+-m*(i*(1+u)*E+f*(1+3*u)*w)*bt(n/Rt(g))),d]}(u?o:i,u?i:o),c=a[0],l=a[1],f=nt(l);return u&&(c=-pt-c),[t*($r(lt(c)*f,-lt(l))+st),e*bt(nt(c)*f)]},Le.invert=function(n,r){var t,e,i,o,u,a,c=(yt-1)/(yt+1),l=Rt(1-c*c),f=He(pt,l*l),v=(e=-n,i=l*l,(t=.5*f-r)?(o=ze(t,i),e?(a=(u=ze(e,1-i))[1]*u[1]+i*o[0]*o[0]*u[0]*u[0],[[o[0]*u[2]/a,o[1]*o[2]*u[0]*u[1]/a],[o[1]*u[1]/a,-o[0]*o[2]*u[0]*u[2]/a],[o[2]*u[1]*u[2]/a,-i*o[0]*o[1]*u[0]/a]]):[[o[0],0],[o[1],0],[o[2],0]]):[[0,(u=ze(e,1-i))[0]/u[1]],[1/u[1],0],[u[2]/u[1],0]]),g=function(n,r){var t=r[0]*r[0]+r[1]*r[1];return[(n[0]*r[0]+n[1]*r[1])/t,(n[1]*r[0]-n[0]*r[1])/t]}(v[0],v[1]);return[$r(g[1],g[0])/-1,2*Zr(rt(-.5*et(c*g[0]*g[0]+c*g[1]*g[1])))-pt]};!function(n){1===n.length&&(n=function(n){return function(r,t){return We(n(r),t)}}(n))}(We);function De(n,r,t){n=+n,r=+r,t=(i=arguments.length)<2?(r=n,n=0,1):i<3?1:+t;for(var e=-1,i=0|Math.max(0,Math.ceil((r-n)/t)),o=new Array(i);++e<i;)o[e]=n+e*t;return o}function Qe(n){for(var r,t,e,i=n.length,o=-1,u=0;++o<i;)u+=n[o].length;for(t=new Array(u);--i>=0;)for(r=(e=n[i]).length;--r>=0;)t[--u]=e[r];return t}var qe=bt(1-1/3)*Et,Ie=oe(0);function Te(n){var r=qe*St,t=re(st,r)[0]-re(-st,r)[0],e=Ie(0,r)[1],i=re(0,r)[1],o=mt-i,u=wt/n,a=4/wt,c=e+o*o*4/wt;function l(l,f){var v,g=Yr(f);if(g>r){var s=ot(n-1,it(0,tt((l+st)/u)));(v=re(l+=st*(n-1)/n-s*u,g))[0]=v[0]*wt/t-wt*(n-1)/(2*n)+s*wt/n,v[1]=e+4*(v[1]-i)*o/wt,f<0&&(v[1]=-v[1])}else v=Ie(l,f);return v[0]*=a,v[1]/=c,v}return l.invert=function(r,l){r/=a;var f=Yr(l*=c);if(f>e){var v=ot(n-1,it(0,tt((r+st)/u)));r=(r+st*(n-1)/n-v*u)*t/wt;var g=re.invert(r,.25*(f-e)*wt/o+i);return g[0]-=st*(n-1)/n-v*u,l<0&&(g[1]=-g[1]),g}return Ie.invert(r,l)},l}function Ve(n,r){return[n,1&r?90-vt:qe]}function Ue(n,r){return[n,1&r?-90+vt:-qe]}function _e(n){return[n[0]*(1-vt),n[1]]}function Oe(n){var r,t=1+n,e=bt(lt(1/t)),i=2*Rt(st/(r=st+4*e*t)),o=.5*i*(t+Rt(n*(2+n))),u=n*n,a=t*t;function c(c,l){var f,v,g=1-lt(l);if(g&&g<2){var s,p=pt-l,h=25;do{var d=lt(p),y=nt(p),m=e+$r(d,t-y),w=1+a-2*t*y;p-=s=(p-u*e-t*d+w*m-.5*g*r)/(2*t*d*m)}while(Yr(s)>gt&&--h>0);f=i*Rt(w),v=c*m/st}else f=i*(n+g),v=c*e/st;return[f*lt(v),o-f*nt(v)]}return c.invert=function(n,c){var l=n*n+(c-=o)*c,f=(1+a-l/(i*i))/(2*t),v=Mt(f),g=lt(v),s=e+$r(g,t-f);return[bt(n/Rt(l))*st/s,bt(1-2*(v-u*e-t*g+(1+a-2*t*f)*s)/r)]},c}var Ke=.7109889596207567,Je=.0528035274542;function Xe(n,r){return r>-Ke?((n=Qt(n,r))[1]+=Je,n):Ut(n,r)}function Ye(n,r){return Yr(r)>Ke?((n=Qt(n,r))[1]-=r>0?Je:-Je,n):Ut(n,r)}function Ze(n,r,t,e){var i=Rt(4*st/(2*t+(1+n-r/2)*lt(2*t)+(n+r)/2*lt(4*t)+r/2*lt(6*t))),o=Rt(e*lt(t)*Rt((1+n*nt(2*t)+r*nt(4*t))/(1+n+r))),u=t*c(1);function a(t){return Rt(1+n*nt(2*t)+r*nt(4*t))}function c(e){var i=e*t;return(2*i+(1+n-r/2)*lt(2*i)+(n+r)/2*lt(4*i)+r/2*lt(6*i))/t}function l(n){return a(n)*lt(n)}var f=function(n,r){var e=t*me(c,u*lt(r)/t,r/st);isNaN(e)&&(e=t*ct(r));var l=i*a(e);return[l*o*n/st*nt(e),l/o*lt(e)]};return f.invert=function(n,r){var e=me(l,r*o/i);return[n*st/(nt(e)*i*o*a(e)),bt(t*c(e/t)/u)]},0===t&&(i=Rt(e/st),(f=function(n,r){return[n*i,lt(r)/i]}).invert=function(n,r){return[n/i,bt(r*i)]}),f}function $e(n,r,t,e,i){void 0===e&&(e=1e-8),void 0===i&&(i=20);var o=n(r),u=n(.5*(r+t)),a=n(t);return function n(r,t,e,i,o,u,a,c,l,f,v){if(v.nanEncountered)return NaN;var g,s,p,h,d,y,m,w,E,S;if(s=r(t+.25*(g=e-t)),p=r(e-.25*g),isNaN(s))v.nanEncountered=!0;else{if(!isNaN(p))return S=((y=(h=g*(i+4*s+o)/12)+(d=g*(o+4*p+u)/12))-a)/15,f>l?(v.maxDepthCount++,y+S):Math.abs(S)<c?y+S:(w=n(r,t,m=t+.5*g,i,s,o,h,.5*c,l,f+1,v),isNaN(w)?(v.nanEncountered=!0,NaN):(E=n(r,m,e,o,p,u,d,.5*c,l,f+1,v),isNaN(E)?(v.nanEncountered=!0,NaN):w+E));v.nanEncountered=!0}}(n,r,t,o,u,a,(o+4*u+a)*(t-r)/6,e,i,1,{maxDepthCount:0,nanEncountered:!1})}function ni(n,r,t){function e(t){return n+(1-n)*ut(1-ut(t,r),1/r)}function i(n){return $e(e,0,n,1e-4)}for(var o=1/i(1),u=1e3,a=(1+1e-8)*o,c=[],l=0;l<=u;l++)c.push(i(l/u)*a);function f(n){var r=0,t=u,e=u>>1;do{c[e]>n?t=e:r=e,e=r+t>>1}while(e>r);var i=c[e+1]-c[e];return i&&(i=(n-c[e+1])/i),(e+1+i)/u}var v=2*f(1)/st*o/t,g=function(n,r){var t=f(Yr(lt(r))),i=e(t)*n;return t/=v,[i,r>=0?t:-t]};return g.invert=function(n,r){var t;return Yr(r*=v)<1&&(t=ct(r)*bt(i(Yr(r))*o)),[n/e(Yr(r)),t]},g}function ri(n,r){return Yr(n[0]-r[0])<vt&&Yr(n[1]-r[1])<vt}function ti(n,r){for(var t,e,i,o=-1,u=n.length,a=n[0],c=[];++o<u;){e=((t=n[o])[0]-a[0])/r,i=(t[1]-a[1])/r;for(var l=0;l<r;++l)c.push([a[0]+l*e,a[1]+l*i]);a=t}return c.push(t),c}function ei(n){var r,t,e,i,o,u,a,c=[],l=n[0].length;for(a=0;a<l;++a)t=(r=n[0][a])[0][0],e=r[0][1],i=r[1][1],o=r[2][0],u=r[2][1],c.push(ti([[t+vt,e+vt],[t+vt,i-vt],[o-vt,i-vt],[o-vt,u+vt]],30));for(a=n[1].length-1;a>=0;--a)t=(r=n[1][a])[0][0],e=r[0][1],i=r[1][1],o=r[2][0],u=r[2][1],c.push(ti([[o-vt,u-vt],[o-vt,i+vt],[t+vt,i+vt],[t+vt,e-vt]],30));return{type:"Polygon",coordinates:[Qe(c)]}}function ii(n,r){var t,e;function i(t,e){for(var i=e<0?-1:1,o=r[+(e<0)],u=0,a=o.length-1;u<a&&t>o[u][2][0];++u);var c=n(t-o[u][1][0],e);return c[0]+=n(o[u][1][0],i*e>i*o[u][0][1]?o[u][0][1]:e)[0],c}n.invert&&(i.invert=function(t,o){for(var u=e[+(o<0)],a=r[+(o<0)],c=0,l=u.length;c<l;++c){var f=u[c];if(f[0][0]<=t&&t<f[1][0]&&f[0][1]<=o&&o<f[1][1]){var v=n.invert(t-n(a[c][1][0],0)[0],o);return v[0]+=a[c][1][0],ri(i(v[0],v[1]),[t,o])?v:null}}});var o=Wr(i),u=o.stream;return o.stream=function(n){var r=o.rotate(),e=u(n),i=(o.rotate([0,0]),u(n));return o.rotate(r),e.sphere=function(){A(t,i)},e},o.lobes=function(i){return arguments.length?(t=ei(i),r=i.map((function(n){return n.map((function(n){return[[n[0][0]*St,n[0][1]*St],[n[1][0]*St,n[1][1]*St],[n[2][0]*St,n[2][1]*St]]}))})),e=r.map((function(r){return r.map((function(r){var t,e=n(r[0][0],r[0][1])[0],i=n(r[2][0],r[2][1])[0],o=n(r[1][0],r[0][1])[1],u=n(r[1][0],r[1][1])[1];return o>u&&(t=o,o=u,u=t),[[e,o],[i,u]]}))})),o):r.map((function(n){return n.map((function(n){return[[n[0][0]*Et,n[0][1]*Et],[n[1][0]*Et,n[1][1]*Et],[n[2][0]*Et,n[2][1]*Et]]}))}))},null!=r&&o.lobes(r),o}Xe.invert=function(n,r){return r>-Ke?Qt.invert(n,r-Je):Ut.invert(n,r)},Ye.invert=function(n,r){return Yr(r)>Ke?Qt.invert(n,r+(r>0?Je:-Je)):Ut.invert(n,r)};var oi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var ui=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var ai=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var ci=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];var li=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];var fi=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function vi(n,r){return[3/wt*n*Rt(st*st/3-r*r),r]}function gi(n){function r(r,t){if(Yr(Yr(t)-pt)<vt)return[0,t<0?-2:2];var e=lt(t),i=ut((1+e)/(1-e),n/2),o=.5*(i+1/i)+nt(r*=n);return[2*lt(r)/o,(i-1/i)/o]}return r.invert=function(r,t){var e=Yr(t);if(Yr(e-2)<vt)return r?null:[0,ct(t)*pt];if(e>2)return null;var i=(r/=2)*r,o=(t/=2)*t,u=2*t/(1+i+o);return u=ut((1+u)/(1-u),1/n),[$r(2*r,1-i-o)/n,bt((u-1)/(u+1))]},r}vi.invert=function(n,r){return[wt/3*n/Rt(st*st/3-r*r),r]};var si=st/yt;function pi(n,r){return[n*(1+Rt(nt(r)))/2,r/(nt(r/2)*nt(n/6))]}function hi(n,r){var t=n*n,e=r*r;return[n*(.975534+e*(-.0143059*t-.119161+-.0547009*e)),r*(1.00384+t*(.0802894+-.02855*e+199025e-9*t)+e*(.0998909+-.0491032*e))]}function di(n,r){return[lt(n)/nt(r),ft(r)*nt(n)]}function yi(n){var r=nt(n),t=ft(ht+n/2);function e(e,i){var o=i-n,u=Yr(o)<vt?e*r:Yr(u=ht+i/2)<vt||Yr(Yr(u)-pt)<vt?0:e*o/et(ft(u)/t);return[u,o]}return e.invert=function(e,i){var o,u=i+n;return[Yr(i)<vt?e/r:Yr(o=ht+u/2)<vt||Yr(Yr(o)-pt)<vt?0:e*et(ft(o)/t)/i,u]},e}function mi(n,r){return[n,1.25*et(ft(ht+.4*r))]}function wi(n){var r=n.length-1;function t(t,e){for(var i,o=nt(e),u=2/(1+o*nt(t)),a=u*o*lt(t),c=u*lt(e),l=r,f=n[l],v=f[0],g=f[1];--l>=0;)v=(f=n[l])[0]+a*(i=v)-c*g,g=f[1]+a*g+c*i;return[v=a*(i=v)-c*g,g=a*g+c*i]}return t.invert=function(t,e){var i=20,o=t,u=e;do{for(var a,c=r,l=n[c],f=l[0],v=l[1],g=0,s=0;--c>=0;)g=f+o*(a=g)-u*s,s=v+o*s+u*a,f=(l=n[c])[0]+o*(a=f)-u*v,v=l[1]+o*v+u*a;var p,h,d=(g=f+o*(a=g)-u*s)*g+(s=v+o*s+u*a)*s;o-=p=((f=o*(a=f)-u*v-t)*g+(v=o*v+u*a-e)*s)/d,u-=h=(v*g-f*s)/d}while(Yr(p)+Yr(h)>vt*vt&&--i>0);if(i){var y=Rt(o*o+u*u),m=2*Zr(.5*y),w=lt(m);return[$r(o*w,y*nt(m)),y?bt(u*w/y):0]}},t}pi.invert=function(n,r){var t=Yr(n),e=Yr(r),i=vt,o=pt;e<si?o*=e/si:i+=6*Mt(si/e);for(var u=0;u<25;u++){var a=lt(o),c=Rt(nt(o)),l=lt(o/2),f=nt(o/2),v=lt(i/6),g=nt(i/6),s=.5*i*(1+c)-t,p=o/(f*g)-e,h=c?-.25*i*a/c:0,d=.5*(1+c),y=(1+.5*o*l/f)/(f*g),m=o/f*(v/6)/(g*g),w=h*m-y*d,E=(s*m-p*d)/w,S=(p*h-s*y)/w;if(o-=E,i-=S,Yr(E)<vt&&Yr(S)<vt)break}return[n<0?-i:i,r<0?-o:o]},hi.invert=function(n,r){var t=ct(n)*st,e=r/2,i=50;do{var o=t*t,u=e*e,a=t*e,c=t*(.975534+u*(-.0143059*o-.119161+-.0547009*u))-n,l=e*(1.00384+o*(.0802894+-.02855*u+199025e-9*o)+u*(.0998909+-.0491032*u))-r,f=.975534-u*(.119161+3*o*.0143059+.0547009*u),v=-a*(.238322+.2188036*u+.0286118*o),g=a*(.1605788+7961e-7*o+-.0571*u),s=1.00384+o*(.0802894+199025e-9*o)+u*(3*(.0998909-.02855*o)-.245516*u),p=v*g-s*f,h=(l*v-c*s)/p,d=(c*g-l*f)/p;t-=h,e-=d}while((Yr(h)>vt||Yr(d)>vt)&&--i>0);return i&&[t,e]},di.invert=function(n,r){var t=n*n,e=r*r+1,i=t+e,o=n?dt*Rt((i-Rt(i*i-4*t))/t):1/Rt(e);return[bt(n*o),ct(r)*Mt(o)]},mi.invert=function(n,r){return[n,2.5*Zr(rt(.8*r))-.625*st]};var Ei=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Si=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],bi=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Mi=[[.9245,0],[0,0],[.01943,0]],Ri=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Pi(n,r){var t=Wr(wi(n)).rotate(r).clipAngle(90),e=$n(r),i=t.center;return delete t.rotate,t.center=function(n){return arguments.length?i(e(n)):e.invert(i())},t}var ki=Rt(6),xi=Rt(7);function Ni(n,r){var t=bt(7*lt(r)/(3*ki));return[ki*n*(2*nt(2*t/3)-1)/xi,9*lt(t/3)/xi]}function Ai(n,r){for(var t,e=(1+dt)*lt(r),i=r,o=0;o<25&&(i-=t=(lt(i/2)+lt(i)-e)/(.5*nt(i/2)+nt(i)),!(Yr(t)<vt));o++);return[n*(1+2*nt(i)/nt(i/2))/(3*yt),2*Rt(3)*lt(i/2)/Rt(2+yt)]}function Gi(n,r){for(var t,e=Rt(6/(4+st)),i=(1+st/4)*lt(r),o=r/2,u=0;u<25&&(o-=t=(o/2+lt(o)-i)/(.5+nt(o)),!(Yr(t)<vt));u++);return[e*(.5+nt(o))*n/1.5,e*o]}function Ci(n,r){var t=r*r,e=t*t,i=t*e;return[n*(.84719-.13063*t+i*i*(.05494*t-.04515-.02326*e+.00331*i)),r*(1.01183+e*e*(.01926*t-.02625-.00396*e))]}function Fi(n,r){return[n*(1+nt(r))/2,2*(r-ft(r/2))]}Ni.invert=function(n,r){var t=3*bt(r*xi/9);return[n*xi/(ki*(2*nt(2*t/3)-1)),bt(3*lt(t)*ki/7)]},Ai.invert=function(n,r){var t=r*Rt(2+yt)/(2*Rt(3)),e=2*bt(t);return[3*yt*n/(1+2*nt(e)/nt(e/2)),bt((t+lt(e))/(1+dt))]},Gi.invert=function(n,r){var t=Rt(6/(4+st)),e=r/t;return Yr(Yr(e)-pt)<vt&&(e=e<0?-pt:pt),[1.5*n/(t*(.5+nt(e))),bt((e/2+lt(e))/(1+st/4))]},Ci.invert=function(n,r){var t,e,i,o,u=r,a=25;do{u-=t=(u*(1.01183+(i=(e=u*u)*e)*i*(.01926*e-.02625-.00396*i))-r)/(1.01183+i*i*(.21186*e-.23625+-.05148*i))}while(Yr(t)>gt&&--a>0);return[n/(.84719-.13063*(e=u*u)+(o=e*(i=e*e))*o*(.05494*e-.04515-.02326*i+.00331*o)),u]},Fi.invert=function(n,r){for(var t=r/2,e=0,i=1/0;e<10&&Yr(i)>vt;++e){var o=nt(r/2);r-=i=(r-ft(r/2)-t)/(1-.5/(o*o))}return[2*n/(1+nt(r)),r]};var zi=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Hi(n,r){var t=lt(r),e=nt(r),i=ct(n);if(0===n||Yr(r)===pt)return[0,r];if(0===r)return[n,0];if(Yr(n)===pt)return[n*e,pt*t];var o=st/(2*n)-2*n/st,u=2*r/st,a=(1-u*u)/(t-u),c=o*o,l=a*a,f=1+c/l,v=1+l/c,g=(o*t/a-o/2)/f,s=(l*t/c+a/2)/v,p=s*s-(l*t*t/c+a*t-1)/v;return[pt*(g+Rt(g*g+e*e/f)*i),pt*(s+Rt(p<0?0:p)*ct(-r*o)*i)]}Hi.invert=function(n,r){var t=(n/=pt)*n,e=t+(r/=pt)*r,i=st*st;return[n?(e-1+Rt((1-e)*(1-e)+4*t))/(2*n)*pt:0,me((function(n){return e*(st*lt(n)-2*n)*st+4*n*n*(r-lt(n))+2*st*n-i*r}),0)]};var Li=1.0148,Bi=.23185,ji=-.14499,Wi=.02406,Di=Li,Qi=5*Bi,qi=7*ji,Ii=9*Wi;function Ti(n,r){var t=r*r;return[n,r*(Li+t*t*(Bi+t*(ji+Wi*t)))]}function Vi(n,r){if(Yr(r)<vt)return[n,0];var t=ft(r),e=n*lt(r);return[lt(e)/t,r+(1-nt(e))/t]}function Ui(n,r){var t=Oi(n[1],n[0]),e=Oi(r[1],r[0]),i=function(n,r){return $r(n[0]*r[1]-n[1]*r[0],n[0]*r[0]+n[1]*r[1])}(t,e),o=Ki(t)/Ki(e);return _i([1,0,n[0][0],0,1,n[0][1]],_i([o,0,0,0,o,0],_i([nt(i),lt(i),0,-lt(i),nt(i),0],[1,0,-r[0][0],0,1,-r[0][1]])))}function _i(n,r){return[n[0]*r[0]+n[1]*r[3],n[0]*r[1]+n[1]*r[4],n[0]*r[2]+n[1]*r[5]+n[2],n[3]*r[0]+n[4]*r[3],n[3]*r[1]+n[4]*r[4],n[3]*r[2]+n[4]*r[5]+n[5]]}function Oi(n,r){return[n[0]-r[0],n[1]-r[1]]}function Ki(n){return Rt(n[0]*n[0]+n[1]*n[1])}function Ji(n,r,t){function e(n,t){var e,i=r(n,t),o=i.project([n*Et,t*Et]);return(e=i.transform)?[e[0]*o[0]+e[1]*o[1]+e[2],-(e[3]*o[0]+e[4]*o[1]+e[5])]:(o[1]=-o[1],o)}!function n(r,t){if(r.edges=function(n){for(var r=n.length,t=[],e=n[r-1],i=0;i<r;++i)t.push([e,e=n[i]]);return t}(r.face),t.face){var e=r.shared=function(n,r){for(var t,e,i=n.length,o=null,u=0;u<i;++u){t=n[u];for(var a=r.length;--a>=0;)if(e=r[a],t[0]===e[0]&&t[1]===e[1]){if(o)return[o,t];o=t}}}(r.face,t.face),i=Ui(e.map(t.project),e.map(r.project));r.transform=t.transform?_i(t.transform,i):i;for(var o=t.edges,u=0,a=o.length;u<a;++u)Xi(e[0],o[u][1])&&Xi(e[1],o[u][0])&&(o[u]=r),Xi(e[0],o[u][0])&&Xi(e[1],o[u][1])&&(o[u]=r);for(o=r.edges,u=0,a=o.length;u<a;++u)Xi(e[0],o[u][0])&&Xi(e[1],o[u][1])&&(o[u]=t),Xi(e[0],o[u][1])&&Xi(e[1],o[u][0])&&(o[u]=t)}else r.transform=t.transform;r.children&&r.children.forEach((function(t){n(t,r)}));return r}(n,{transform:null}),Yi(n)&&(e.invert=function(t,e){var i=function n(t,e){var i=t.project.invert,o=t.transform,u=e;o&&(o=function(n){var r=1/(n[0]*n[4]-n[1]*n[3]);return[r*n[4],-r*n[1],r*(n[1]*n[5]-n[2]*n[4]),-r*n[3],r*n[0],r*(n[2]*n[3]-n[0]*n[5])]}(o),u=[o[0]*u[0]+o[1]*u[1]+o[2],o[3]*u[0]+o[4]*u[1]+o[5]]);if(i&&t===function(n){return r(n[0]*St,n[1]*St)}(a=i(u)))return a;for(var a,c=t.children,l=0,f=c&&c.length;l<f;++l)if(a=n(c[l],e))return a}(n,[t,-e]);return i&&(i[0]*=St,i[1]*=St,i)});var i=Wr(e),o=i.stream;return i.stream=function(r){var t=i.rotate(),e=o(r),u=(i.rotate([0,0]),o(r));return i.rotate(t),e.sphere=function(){u.polygonStart(),u.lineStart(),function n(r,t,e){var i,o,u=t.edges,a=u.length,c={type:"MultiPoint",coordinates:t.face},l=function(n){var r,t,e,i,o,u,a;if(Z=Y=-(J=X=1/0),en=[],A(n,Mn),t=en.length){for(en.sort(Fn),r=1,o=[e=en[0]];r<t;++r)zn(e,(i=en[r])[0])||zn(e,i[1])?(Cn(e[0],i[1])>Cn(e[0],e[1])&&(e[1]=i[1]),Cn(i[0],e[1])>Cn(e[0],e[1])&&(e[0]=i[0])):o.push(e=i);for(u=-1/0,r=0,e=o[t=o.length-1];r<=t;e=i,++r)i=o[r],(a=Cn(e[1],i[0]))>u&&(u=a,J=i[0],Y=e[1])}return en=on=null,J===1/0||X===1/0?[[NaN,NaN],[NaN,NaN]]:[[J,X],[Y,Z]]}({type:"MultiPoint",coordinates:t.face.filter((function(n){return 90!==Yr(n[1])}))}),f=!1,v=-1,g=l[1][0]-l[0][0],s=180===g||360===g?[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2]:Un(c);if(e)for(;++v<a&&u[v]!==e;);++v;for(var p=0;p<a;++p)o=u[(p+v)%a],Array.isArray(o)?(f||(r.point((i=Sr(o[0],s)(vt))[0],i[1]),f=!0),r.point((i=Sr(o[1],s)(vt))[0],i[1])):(f=!1,o!==e&&n(r,o,t))}(u,n),u.lineEnd(),u.polygonEnd()},e},i.angle(null==t?-30:t*Et)}function Xi(n,r){return n&&r&&n[0]===r[0]&&n[1]===r[1]}function Yi(n){return n.project.invert||n.children&&n.children.some(Yi)}Ti.invert=function(n,r){r>1.790857183?r=1.790857183:r<-1.790857183&&(r=-1.790857183);var t,e=r;do{var i=e*e;e-=t=(e*(Li+i*i*(Bi+i*(ji+Wi*i)))-r)/(Di+i*i*(Qi+i*(qi+Ii*i)))}while(Yr(t)>vt);return[n,e]},Vi.invert=function(n,r){if(Yr(r)<vt)return[n,0];var t,e=n*n+r*r,i=.5*r,o=10;do{var u=ft(i),a=1/nt(i),c=e-2*r*i+i*i;i-=t=(u*c+2*(i-r))/(2+c*a*a+2*(i-r)*u)}while(Yr(t)>vt&&--o>0);return u=ft(i),[(Yr(r)<Yr(i+1/u)?bt(n*u):ct(n)*(Mt(Yr(n*u))+pt))/lt(i),i]};var Zi=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],$i=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map((function(n){return n.map((function(n){return Zi[n]}))}));var no=2/Rt(3);function ro(n,r){var t=re(n,r);return[t[0]*no,t[1]]}function to(n,r){for(var t=0,e=n.length,i=0;t<e;++t)i+=n[t]*r[t];return i}function eo(n){return[$r(n[1],n[0])*Et,bt(it(-1,ot(1,n[2])))*Et]}function io(n){var r=n[0]*St,t=n[1]*St,e=nt(t);return[e*nt(r),e*lt(r),lt(t)]}function oo(){}function uo(n,r){return{type:"FeatureCollection",features:n.features.map((function(n){return ao(n,r)}))}}function ao(n,r){return{type:"Feature",id:n.id,properties:n.properties,geometry:co(n.geometry,r)}}function co(n,r){if(!n)return null;if("GeometryCollection"===n.type)return function(n,r){return{type:"GeometryCollection",geometries:n.geometries.map((function(n){return co(n,r)}))}}(n,r);var t;switch(n.type){case"Point":case"MultiPoint":t=vo;break;case"LineString":case"MultiLineString":t=go;break;case"Polygon":case"MultiPolygon":case"Sphere":t=so;break;default:return null}return A(n,r(t)),t.result()}ro.invert=function(n,r){return re.invert(n/no,r)};var lo=[],fo=[],vo={point:function(n,r){lo.push([n,r])},result:function(){var n=lo.length?lo.length<2?{type:"Point",coordinates:lo[0]}:{type:"MultiPoint",coordinates:lo}:null;return lo=[],n}},go={lineStart:oo,point:function(n,r){lo.push([n,r])},lineEnd:function(){lo.length&&(fo.push(lo),lo=[])},result:function(){var n=fo.length?fo.length<2?{type:"LineString",coordinates:fo[0]}:{type:"MultiLineString",coordinates:fo}:null;return fo=[],n}},so={polygonStart:oo,lineStart:oo,point:function(n,r){lo.push([n,r])},lineEnd:function(){var n=lo.length;if(n){do{lo.push(lo[0].slice())}while(++n<4);fo.push(lo),lo=[]}},polygonEnd:oo,result:function(){if(!fo.length)return null;var n=[],r=[];return fo.forEach((function(t){!function(n){if((r=n.length)<4)return!1;for(var r,t=0,e=n[r-1][1]*n[0][0]-n[r-1][0]*n[0][1];++t<r;)e+=n[t-1][1]*n[t][0]-n[t-1][0]*n[t][1];return e<=0}(t)?r.push(t):n.push([t])})),r.forEach((function(r){var t=r[0];n.some((function(n){if(function(n,r){for(var t=r[0],e=r[1],i=!1,o=0,u=n.length,a=u-1;o<u;a=o++){var c=n[o],l=c[0],f=c[1],v=n[a],g=v[0],s=v[1];f>e^s>e&&t<(g-l)*(e-f)/(s-f)+l&&(i=!i)}return i}(n[0],t))return n.push(r),!0}))||n.push([r])})),fo=[],n.length?n.length>1?{type:"MultiPolygon",coordinates:n}:{type:"Polygon",coordinates:n[0]}:null}};function po(n){var r=n(pt,0)[0]-n(-pt,0)[0];function t(t,e){var i=Yr(t)<pt,o=n(i?t:t>0?t-st:t+st,e),u=(o[0]-o[1])*dt,a=(o[0]+o[1])*dt;if(i)return[u,a];var c=r*dt,l=u>0^a>0?-1:1;return[l*u-ct(a)*c,l*a-ct(u)*c]}return n.invert&&(t.invert=function(t,e){var i=(t+e)*dt,o=(e-t)*dt,u=Yr(i)<.5*r&&Yr(o)<.5*r;if(!u){var a=r*dt,c=i>0^o>0?-1:1,l=-c*t+(o>0?1:-1)*a,f=-c*e+(i>0?1:-1)*a;i=(-l-f)*dt,o=(l-f)*dt}var v=n.invert(i,o);return u||(v[0]+=i>0?st:-st),v}),Wr(t).rotate([-90,-90,45]).clipAngle(179.999)}function ho(){return po(Le).scale(111.48)}function yo(n){var r=lt(n);function t(t,e){var i=r?ft(t*r/2)/r:t/2;if(!e)return[2*i,-n];var o=2*Zr(i*lt(e)),u=1/ft(e);return[lt(o)*u,e+(1-nt(o))*u-n]}return t.invert=function(t,e){if(Yr(e+=n)<vt)return[r?2*Zr(r*t/2)/r:t,0];var i,o=t*t+e*e,u=0,a=10;do{var c=ft(u),l=1/nt(u),f=o-2*e*u+u*u;u-=i=(c*f+2*(u-e))/(2+f*l*l+2*(u-e)*c)}while(Yr(i)>vt&&--a>0);var v=t*(c=ft(u)),g=ft(Yr(e)<Yr(u+1/c)?.5*bt(v):.5*Mt(v)+st/4)/lt(u);return[r?2*Zr(r*g)/r:2*g,u]},t}var mo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function wo(n,r){var t,e=ot(18,36*Yr(r)/st),i=tt(e),o=e-i,u=(t=mo[i])[0],a=t[1],c=(t=mo[++i])[0],l=t[1],f=(t=mo[ot(19,++i)])[0],v=t[1];return[n*(c+o*(f-u)/2+o*o*(f-2*c+u)/2),(r>0?pt:-pt)*(l+o*(v-a)/2+o*o*(v-2*l+a)/2)]}function Eo(n,r){var t=function(n){function r(r,t){var e=nt(t),i=(n-1)/(n-e*nt(r));return[i*e*lt(r),i*lt(t)]}return r.invert=function(r,t){var e=r*r+t*t,i=Rt(e),o=(n-Rt(1-e*(n+1)/(n-1)))/((n-1)/i+i/(n-1));return[$r(r*o,i*Rt(1-o*o)),i?bt(t*o/i):0]},r}(n);if(!r)return t;var e=nt(r),i=lt(r);function o(r,o){var u=t(r,o),a=u[1],c=a*i/(n-1)+e;return[u[0]*e/c,a/c]}return o.invert=function(r,o){var u=(n-1)/(n-1-o*i);return t.invert(u*r,u*o*e)},o}mo.forEach((function(n){n[1]*=1.0144})),wo.invert=function(n,r){var t=r/pt,e=90*t,i=ot(18,Yr(e/5)),o=it(0,tt(i));do{var u=mo[o][1],a=mo[o+1][1],c=mo[ot(19,o+2)][1],l=c-u,f=c-2*a+u,v=2*(Yr(t)-a)/l,g=f/l,s=v*(1-g*v*(1-2*g*v));if(s>=0||1===o){e=(r>=0?5:-5)*(s+i);var p,h=50;do{s=(i=ot(18,Yr(e)/5))-(o=tt(i)),u=mo[o][1],a=mo[o+1][1],c=mo[ot(19,o+2)][1],e-=(p=(r>=0?pt:-pt)*(a+s*(c-u)/2+s*s*(c-2*a+u)/2)-r)*Et}while(Yr(p)>gt&&--h>0);break}}while(--o>=0);var d=mo[o][0],y=mo[o+1][0],m=mo[ot(19,o+2)][0];return[n/(y+s*(m-d)/2+s*s*(m-2*y+d)/2),e*St]};var So=1e4,bo=-180,Mo=bo+1e-4,Ro=180,Po=Ro-1e-4,ko=-90,xo=ko+1e-4,No=90,Ao=No-1e-4;function Go(n){return n.length>0}function Co(n){return n===ko||n===No?[0,n]:[bo,(r=n,Math.floor(r*So)/So)];var r}function Fo(n){var r=n[0],t=n[1],e=!1;return r<=Mo?(r=bo,e=!0):r>=Po&&(r=Ro,e=!0),t<=xo?(t=ko,e=!0):t>=Ao&&(t=No,e=!0),e?[r,t]:n}function zo(n){return n.map(Fo)}function Ho(n,r,t){for(var e=0,i=n.length;e<i;++e){var o=n[e].slice();t.push({index:-1,polygon:r,ring:o});for(var u=0,a=o.length;u<a;++u){var c=o[u],l=c[0],f=c[1];if(l<=Mo||l>=Po||f<=xo||f>=Ao){o[u]=Fo(c);for(var v=u+1;v<a;++v){var g=o[v],s=g[0],p=g[1];if(s>Mo&&s<Po&&p>xo&&p<Ao)break}if(v===u+1)continue;if(u){var h={index:-1,polygon:r,ring:o.slice(0,u+1)};h.ring[h.ring.length-1]=Co(f),t[t.length-1]=h}else t.pop();if(v>=a)break;t.push({index:-1,polygon:r,ring:o=o.slice(v-1)}),o[0]=Co(o[0][1]),u=-1,a=o.length}}}}function Lo(n){var r,t,e,i,o,u,a=n.length,c={},l={};for(r=0;r<a;++r)e=(t=n[r]).ring[0],o=t.ring[t.ring.length-1],e[0]!==o[0]||e[1]!==o[1]?(t.index=r,c[e]=l[o]=t):(t.polygon.push(t.ring),n[r]=null);for(r=0;r<a;++r)if(t=n[r]){if(e=t.ring[0],o=t.ring[t.ring.length-1],i=l[e],u=c[o],delete c[e],delete l[o],e[0]===o[0]&&e[1]===o[1]){t.polygon.push(t.ring);continue}i?(delete l[e],delete c[i.ring[0]],i.ring.pop(),n[i.index]=null,t={index:-1,polygon:i.polygon,ring:i.ring.concat(t.ring)},i===u?t.polygon.push(t.ring):(t.index=a++,n.push(c[t.ring[0]]=l[t.ring[t.ring.length-1]]=t))):u?(delete c[o],delete l[u.ring[u.ring.length-1]],t.ring.pop(),t={index:a++,polygon:u.polygon,ring:t.ring.concat(u.ring)},n[u.index]=null,n.push(c[t.ring[0]]=l[t.ring[t.ring.length-1]]=t)):(t.ring.push(t.ring[0]),t.polygon.push(t.ring))}}function Bo(n){var r={type:"Feature",geometry:jo(n.geometry)};return null!=n.id&&(r.id=n.id),null!=n.bbox&&(r.bbox=n.bbox),null!=n.properties&&(r.properties=n.properties),r}function jo(n){if(null==n)return n;var r,t,e,i;switch(n.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:n.geometries.map(jo)};break;case"Point":r={type:"Point",coordinates:Fo(n.coordinates)};break;case"MultiPoint":case"LineString":r={type:n.type,coordinates:zo(n.coordinates)};break;case"MultiLineString":r={type:"MultiLineString",coordinates:n.coordinates.map(zo)};break;case"Polygon":var o=[];Ho(n.coordinates,o,t=[]),Lo(t),r={type:"Polygon",coordinates:o};break;case"MultiPolygon":t=[],e=-1,i=n.coordinates.length;for(var u=new Array(i);++e<i;)Ho(n.coordinates[e],u[e]=[],t);Lo(t),r={type:"MultiPolygon",coordinates:u.filter(Go)};break;default:return n}return null!=n.bbox&&(r.bbox=n.bbox),r}function Wo(n,r){var t=ft(r/2),e=lt(ht*t);return[n*(.74482-.34588*e*e),1.70711*t]}function Do(n,r,t){var e=Sr(r,t),i=e(.5),o=$n([-i[0],-i[1]])(r),u=e.distance/2,a=-bt(lt(o[1]*St)/lt(u)),c=[-i[0],-i[1],-(o[0]>0?st-a:a)*Et],l=Wr(n(u)).rotate(c),f=$n(c),v=l.center;return delete l.rotate,l.center=function(n){return arguments.length?v(f(n)):f.invert(v())},l.clipAngle(90)}function Qo(n){var r=nt(n);function t(n,t){var e=_r(n,t);return e[0]*=r,e}return t.invert=function(n,t){return _r.invert(n/r,t)},t}function qo(n,r){return Do(Qo,n,r)}function Io(n){if(!(n*=2))return Tr;var r=-n/2,t=-r,e=n*n,i=ft(t),o=.5/lt(t);function u(i,o){var u=Mt(nt(o)*nt(i-r)),a=Mt(nt(o)*nt(i-t));return[((u*=u)-(a*=a))/(2*n),(o<0?-1:1)*Rt(4*e*a-(e-u+a)*(e-u+a))/(2*n)]}return u.invert=function(n,e){var u,a,c=e*e,l=nt(Rt(c+(u=n+r)*u)),f=nt(Rt(c+(u=n+t)*u));return[$r(a=l-f,u=(l+f)*i),(e<0?-1:1)*Mt(Rt(u*u+a*a)*o)]},u}function To(n,r){return Do(Io,n,r)}function Vo(n,r){if(Yr(r)<vt)return[n,0];var t=Yr(r/pt),e=bt(t);if(Yr(n)<vt||Yr(Yr(r)-pt)<vt)return[0,ct(r)*st*ft(e/2)];var i=nt(e),o=Yr(st/n-n/st)/2,u=o*o,a=i/(t+i-1),c=a*(2/t-1),l=c*c,f=l+u,v=a-l,g=u+a;return[ct(n)*st*(o*v+Rt(u*v*v-f*(a*a-l)))/f,ct(r)*st*(c*g-o*Rt((u+1)*f-g*g))/f]}function Uo(n,r){if(Yr(r)<vt)return[n,0];var t=Yr(r/pt),e=bt(t);if(Yr(n)<vt||Yr(Yr(r)-pt)<vt)return[0,ct(r)*st*ft(e/2)];var i=nt(e),o=Yr(st/n-n/st)/2,u=o*o,a=i*(Rt(1+u)-o*i)/(1+u*t*t);return[ct(n)*st*a,ct(r)*st*Rt(1-a*(2*o+a))]}function _o(n,r){if(Yr(r)<vt)return[n,0];var t=r/pt,e=bt(t);if(Yr(n)<vt||Yr(Yr(r)-pt)<vt)return[0,st*ft(e/2)];var i=(st/n-n/st)/2,o=t/(1+nt(e));return[st*(ct(n)*Rt(i*i+1-o*o)-i),st*o]}function Oo(n,r){if(!r)return[n,0];var t=Yr(r);if(!n||t===pt)return[0,r];var e=t/pt,i=e*e,o=(8*e-i*(i+2)-5)/(2*i*(e-1)),u=o*o,a=e*o,c=i+u+2*a,l=e+3*o,f=n/pt,v=f+1/f,g=ct(Yr(n)-pt)*Rt(v*v-4),s=g*g,p=(g*(c+u-1)+2*Rt(c*(i+u*s-1)+(1-i)*(i*(l*l+4*u)+12*a*u+4*u*u)))/(4*c+s);return[ct(n)*pt*p,ct(r)*pt*Rt(1+g*Yr(p)-p*p)]}function Ko(n,r,t,e){var i=st/3;n=it(n,vt),r=it(r,vt),n=ot(n,pt),r=ot(r,st-vt),t=it(t,0),t=ot(t,100-vt);var o=(e=it(e,vt))/100,u=Mt((t/100+1)*nt(i))/i,a=lt(n)/lt(u*pt),c=r/st,l=Rt(o*lt(n/2)/lt(r/2));return function(n,r,t,e,i){function o(o,u){var a=t*lt(e*u),c=Rt(1-a*a),l=Rt(2/(1+c*nt(o*=i)));return[n*c*l*lt(o),r*a*l]}return o.invert=function(o,u){var a=o/n,c=u/r,l=Rt(a*a+c*c),f=2*bt(l/2);return[$r(o*ft(f),n*l)/i,l&&bt(u*lt(f)/(r*t*l))/e]},o}(l/Rt(c*a*u),1/(l*Rt(c*a*u)),a,u,c)}Wo.invert=function(n,r){var t=r/1.70711,e=lt(ht*t);return[n/(.74482-.34588*e*e),2*Zr(t)]},Vo.invert=function(n,r){if(Yr(r)<vt)return[n,0];if(Yr(n)<vt)return[0,pt*lt(2*Zr(r/st))];var t=(n/=st)*n,e=(r/=st)*r,i=t+e,o=i*i,u=-Yr(r)*(1+i),a=u-2*e+t,c=-2*u+1+2*e+o,l=e/c+(2*a*a*a/(c*c*c)-9*u*a/(c*c))/27,f=(u-a*a/(3*c))/c,v=2*Rt(-f/3),g=Mt(3*l/(f*v))/3;return[st*(i-1+Rt(1+2*(t-e)+o))/(2*n),ct(r)*st*(-v*nt(g+st/3)-a/(3*c))]},Uo.invert=function(n,r){if(!n)return[0,pt*lt(2*Zr(r/st))];var t=Yr(n/st),e=(1-t*t-(r/=st)*r)/(2*t),i=Rt(e*e+1);return[ct(n)*st*(i-e),ct(r)*pt*lt(2*$r(Rt((1-2*e*t)*(e+i)-t),Rt(i+e+t)))]},_o.invert=function(n,r){if(!r)return[n,0];var t=r/st,e=(st*st*(1-t*t)-n*n)/(2*st*n);return[n?st*(ct(n)*Rt(e*e+1)-e):0,pt*lt(2*Zr(t))]},Oo.invert=function(n,r){var t;if(!n||!r)return[n,r];r/=st;var e=ct(n)*n/pt,i=(e*e-1+4*r*r)/Yr(e),o=i*i,u=2*r,a=50;do{var c=u*u,l=(8*u-c*(c+2)-5)/(2*c*(u-1)),f=(3*u-c*u-10)/(2*c*u),v=l*l,g=u*l,s=u+l,p=s*s,h=u+3*l,d=-2*s*(4*g*v+(1-4*c+3*c*c)*(1+f)+v*(14*c-6-o+(8*c-8-2*o)*f)+g*(12*c-8+(10*c-10-o)*f)),y=Rt(p*(c+v*o-1)+(1-c)*(c*(h*h+4*v)+v*(12*g+4*v)));u-=t=(i*(p+v-1)+2*y-e*(4*p+o))/(i*(2*l*f+2*s*(1+f))+d/y-8*s*(i*(-1+v+p)+2*y)*(1+f)/(o+4*p))}while(t>vt&&--a>0);return[ct(n)*(Rt(i*i+4)+i)*st/4,pt*u]};var Jo=4*st+3*Rt(3),Xo=2*Rt(2*st*Rt(3)/Jo),Yo=Dt(Xo*Rt(3)/st,Xo,Jo/6);function Zo(n,r){return[n*Rt(1-3*r*r/(st*st)),r]}function $o(n,r){var t=.90631*lt(r),e=Rt(1-t*t),i=Rt(2/(1+e*nt(n/=3)));return[2.66723*e*i*lt(n),1.24104*t*i]}function nu(n,r){var t=nt(r),e=nt(n)*t,i=1-e,o=nt(n=$r(lt(n)*t,-lt(r))),u=lt(n);return[u*(t=Rt(1-e*e))-o*i,-o*t-u*i]}function ru(n,r){var t=Nt(n,r);return[(t[0]+n/pt)/2,(t[1]+r)/2]}Zo.invert=function(n,r){return[n/Rt(1-3*r*r/(st*st)),r]},$o.invert=function(n,r){var t=n/2.66723,e=r/1.24104,i=Rt(t*t+e*e),o=2*bt(i/2);return[3*$r(n*ft(o),2.66723*i),i&&bt(r*lt(o)/(1.24104*.90631*i))]},nu.invert=function(n,r){var t=(n*n+r*r)/-2,e=Rt(-t*(2+t)),i=r*t+n*e,o=n*t-r*e,u=Rt(o*o+i*i);return[$r(e*i,u*(1+t)),u?-bt(e*o/u):0]},ru.invert=function(n,r){var t=n,e=r,i=25;do{var o,u=nt(e),a=lt(e),c=lt(2*e),l=a*a,f=u*u,v=lt(t),g=nt(t/2),s=lt(t/2),p=s*s,h=1-f*g*g,d=h?Mt(u*g)*Rt(o=1/h):o=0,y=.5*(2*d*u*s+t/pt)-n,m=.5*(d*a+e)-r,w=.5*o*(f*p+d*u*g*l)+.5/pt,E=o*(v*c/4-d*a*s),S=.125*o*(c*s-d*a*f*v),b=.5*o*(l*g+d*p*u)+.5,M=E*S-b*w,R=(m*E-y*b)/M,P=(y*S-m*w)/M;t-=R,e-=P}while((Yr(R)>vt||Yr(P)>vt)&&--i>0);return[t,e]};var tu=Object.freeze({__proto__:null,geoAiry:function(){var n=pt,r=Dr(xt),t=r(n);return t.radius=function(t){return arguments.length?r(n=t*St):n*Et},t.scale(179.976).clipAngle(147)},geoAiryRaw:xt,geoAitoff:function(){return Wr(Nt).scale(152.63)},geoAitoffRaw:Nt,geoArmadillo:function(){var n=20*St,r=n>=0?1:-1,t=ft(r*n),e=Dr(At),i=e(n),o=i.stream;return i.parallel=function(i){return arguments.length?(t=ft((r=(n=i*St)>=0?1:-1)*n),e(n)):n*Et},i.stream=function(e){var u=i.rotate(),a=o(e),c=(i.rotate([0,0]),o(e)),l=i.precision();return i.rotate(u),a.sphere=function(){c.polygonStart(),c.lineStart();for(var e=-180*r;r*e<180;e+=90*r)c.point(e,90*r);if(n)for(;r*(e-=3*r*l)>=-180;)c.point(e,r*-$r(nt(e*St/2),t)*Et);c.lineEnd(),c.polygonEnd()},a},i.scale(218.695).center([0,28.0974])},geoArmadilloRaw:At,geoAugust:function(){return Wr(Gt).scale(66.1603)},geoAugustRaw:Gt,geoBaker:function(){return Wr(zt).scale(112.314)},geoBakerRaw:zt,geoBerghaus:function(){var n=5,r=Dr(Ht),t=r(n),e=t.stream,i=-nt(.01*St),o=lt(.01*St);return t.lobes=function(t){return arguments.length?r(n=+t):n},t.stream=function(r){var u=t.rotate(),a=e(r),c=(t.rotate([0,0]),e(r));return t.rotate(u),a.sphere=function(){c.polygonStart(),c.lineStart();for(var r=0,t=360/n,e=2*st/n,u=90-180/n,a=pt;r<n;++r,u-=t,a-=e)c.point($r(o*nt(a),i)*Et,bt(o*lt(a))*Et),u<-90?(c.point(-90,-180-u-.01),c.point(-90,-180-u+.01)):(c.point(90,u+.01),c.point(90,u-.01));c.lineEnd(),c.polygonEnd()},a},t.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},geoBerghausRaw:Ht,geoBertin1953:function(){var n=Wr(jt());return n.rotate([-16.5,-42]),delete n.rotate,n.scale(176.57).center([7.93,.09])},geoBertin1953Raw:jt,geoBoggs:function(){return Wr(Tt).scale(160.857)},geoBoggsRaw:Tt,geoBonne:function(){return Vt(_t).scale(123.082).center([0,26.1441]).parallel(45)},geoBonneRaw:_t,geoBottomley:function(){var n=.5,r=Dr(Ot),t=r(n);return t.fraction=function(t){return arguments.length?r(n=+t):n},t.scale(158.837)},geoBottomleyRaw:Ot,geoBromley:function(){return Wr(Kt).scale(152.63)},geoBromleyRaw:Kt,geoChamberlin:ne,geoChamberlinRaw:Zt,geoChamberlinAfrica:function(){return ne([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},geoCollignon:function(){return Wr(re).scale(95.6464).center([0,30])},geoCollignonRaw:re,geoCraig:function(){return Vt(te).scale(249.828).clipAngle(90)},geoCraigRaw:te,geoCraster:function(){return Wr(ie).scale(156.19)},geoCrasterRaw:ie,geoCylindricalEqualArea:function(){return Vt(oe).parallel(38.58).scale(195.044)},geoCylindricalEqualAreaRaw:oe,geoCylindricalStereographic:function(){return Vt(ue).scale(124.75)},geoCylindricalStereographicRaw:ue,geoEckert1:function(){return Wr(ae).scale(165.664)},geoEckert1Raw:ae,geoEckert2:function(){return Wr(ce).scale(165.664)},geoEckert2Raw:ce,geoEckert3:function(){return Wr(le).scale(180.739)},geoEckert3Raw:le,geoEckert4:function(){return Wr(fe).scale(180.739)},geoEckert4Raw:fe,geoEckert5:function(){return Wr(ve).scale(173.044)},geoEckert5Raw:ve,geoEckert6:function(){return Wr(ge).scale(173.044)},geoEckert6Raw:ge,geoEisenlohr:function(){return Wr(pe).scale(62.5271)},geoEisenlohrRaw:pe,geoFahey:function(){return Wr(de).scale(137.152)},geoFaheyRaw:de,geoFoucaut:function(){return Wr(ye).scale(135.264)},geoFoucautRaw:ye,geoFoucautSinusoidal:function(){var n=.5,r=Dr(we),t=r(n);return t.alpha=function(t){return arguments.length?r(n=+t):n},t.scale(168.725)},geoFoucautSinusoidalRaw:we,geoGilbert:function(n){null==n&&(n=Xr);var r=n(),t=Ur().scale(Et).precision(0).clipAngle(null).translate([0,0]);function e(n){return r(Ee(n))}function i(n){e[n]=function(){return arguments.length?(r[n].apply(r,arguments),e):r[n]()}}return r.invert&&(e.invert=function(n){return Se(r.invert(n))}),e.stream=function(n){var e=r.stream(n),i=t.stream({point:function(n,r){e.point(n/2,bt(ft(-r/2*St))*Et)},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}});return i.sphere=e.sphere,i},e.rotate=function(n){return arguments.length?(t.rotate(n),e):t.rotate()},e.center=function(n){return arguments.length?(r.center(Ee(n)),e):Se(r.center())},i("angle"),i("clipAngle"),i("clipExtent"),i("fitExtent"),i("fitHeight"),i("fitSize"),i("fitWidth"),i("scale"),i("translate"),i("precision"),e.scale(249.5)},geoGingery:function(){var n=6,r=30*St,t=nt(r),e=lt(r),i=Dr(be),o=i(r,n),u=o.stream,a=-nt(.01*St),c=lt(.01*St);return o.radius=function(o){return arguments.length?(t=nt(r=o*St),e=lt(r),i(r,n)):r*Et},o.lobes=function(t){return arguments.length?i(r,n=+t):n},o.stream=function(r){var i=o.rotate(),l=u(r),f=(o.rotate([0,0]),u(r));return o.rotate(i),l.sphere=function(){f.polygonStart(),f.lineStart();for(var r=0,i=2*st/n,o=0;r<n;++r,o-=i)f.point($r(c*nt(o),a)*Et,bt(c*lt(o))*Et),f.point($r(e*nt(o-i/2),t)*Et,bt(e*lt(o-i/2))*Et);f.lineEnd(),f.polygonEnd()},l},o.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},geoGingeryRaw:be,geoGinzburg4:function(){return Wr(ke).scale(149.995)},geoGinzburg4Raw:ke,geoGinzburg5:function(){return Wr(xe).scale(153.93)},geoGinzburg5Raw:xe,geoGinzburg6:function(){return Wr(Ne).scale(130.945)},geoGinzburg6Raw:Ne,geoGinzburg8:function(){return Wr(Ae).scale(131.747)},geoGinzburg8Raw:Ae,geoGinzburg9:function(){return Wr(Ge).scale(131.087)},geoGinzburg9Raw:Ge,geoGringorten:function(){return Wr(Ce(Fe)).scale(239.75)},geoGringortenRaw:Fe,geoGuyou:function(){return Wr(Ce(Le)).scale(151.496)},geoGuyouRaw:Le,geoHammer:function(){var n=2,r=Dr(Lt),t=r(n);return t.coefficient=function(t){return arguments.length?r(n=+t):n},t.scale(169.529)},geoHammerRaw:Lt,geoHammerRetroazimuthal:function(){var n=0,r=Dr(Be),t=r(n),e=t.rotate,i=t.stream,o=function(){var n,r,t=_n([0,0]),e=_n(90),i=_n(6),o={point:function(t,e){n.push(t=r(t,e)),t[0]*=v,t[1]*=v}};function u(){var u=t.apply(this,arguments),a=e.apply(this,arguments)*g,c=i.apply(this,arguments)*g;return n=[],r=Jn(-u[0]*g,-u[1]*g,0).invert,nr(o,a,c,1),u={type:"Polygon",coordinates:[n]},n=r=null,u}return u.center=function(n){return arguments.length?(t="function"==typeof n?n:_n([+n[0],+n[1]]),u):t},u.radius=function(n){return arguments.length?(e="function"==typeof n?n:_n(+n),u):e},u.precision=function(n){return arguments.length?(i="function"==typeof n?n:_n(+n),u):i},u}();return t.parallel=function(e){if(!arguments.length)return n*Et;var i=t.rotate();return r(n=e*St).rotate(i)},t.rotate=function(r){return arguments.length?(e.call(t,[r[0],r[1]-n*Et]),o.center([-r[0],-r[1]]),t):((r=e.call(t))[1]+=n*Et,r)},t.stream=function(n){return(n=i(n)).sphere=function(){n.polygonStart();var r,t=o.radius(89.99)().coordinates[0],e=t.length-1,i=-1;for(n.lineStart();++i<e;)n.point((r=t[i])[0],r[1]);for(n.lineEnd(),e=(t=o.radius(90.01)().coordinates[0]).length-1,n.lineStart();--i>=0;)n.point((r=t[i])[0],r[1]);n.lineEnd(),n.polygonEnd()},n},t.scale(79.4187).parallel(45).clipAngle(179.999)},geoHammerRetroazimuthalRaw:Be,geoHealpix:function(){var n=4,r=Dr(Te),t=r(n),e=t.stream;return t.lobes=function(t){return arguments.length?r(n=+t):n},t.stream=function(r){var i=t.rotate(),o=e(r),u=(t.rotate([0,0]),e(r));return t.rotate(i),o.sphere=function(){var r,t;A((t=[].concat(De(-180,180+(r=180/n)/2,r).map(Ve),De(180,-180-r/2,-r).map(Ue)),{type:"Polygon",coordinates:[180===r?t.map(_e):t]}),u)},o},t.scale(239.75)},geoHealpixRaw:Te,geoHill:function(){var n=1,r=Dr(Oe),t=r(n);return t.ratio=function(t){return arguments.length?r(n=+t):n},t.scale(167.774).center([0,18.67])},geoHillRaw:Oe,geoHomolosine:function(){return Wr(Ye).scale(152.63)},geoHomolosineRaw:Ye,geoHufnagel:function(){var n=1,r=0,t=45*St,e=2,i=Dr(Ze),o=i(n,r,t,e);return o.a=function(o){return arguments.length?i(n=+o,r,t,e):n},o.b=function(o){return arguments.length?i(n,r=+o,t,e):r},o.psiMax=function(o){return arguments.length?i(n,r,t=+o*St,e):t*Et},o.ratio=function(o){return arguments.length?i(n,r,t,e=+o):e},o.scale(180.739)},geoHufnagelRaw:Ze,geoHyperelliptical:function(){var n=0,r=2.5,t=1.183136,e=Dr(ni),i=e(n,r,t);return i.alpha=function(i){return arguments.length?e(n=+i,r,t):n},i.k=function(i){return arguments.length?e(n,r=+i,t):r},i.gamma=function(i){return arguments.length?e(n,r,t=+i):t},i.scale(152.63)},geoHyperellipticalRaw:ni,geoInterrupt:ii,geoInterruptedBoggs:function(){return ii(Tt,oi).scale(160.857)},geoInterruptedHomolosine:function(){return ii(Ye,ui).scale(152.63)},geoInterruptedMollweide:function(){return ii(Qt,ai).scale(169.529)},geoInterruptedMollweideHemispheres:function(){return ii(Qt,ci).scale(169.529).rotate([20,0])},geoInterruptedSinuMollweide:function(){return ii(Xe,li).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},geoInterruptedSinusoidal:function(){return ii(Ut,fi).scale(152.63).rotate([-20,0])},geoKavrayskiy7:function(){return Wr(vi).scale(158.837)},geoKavrayskiy7Raw:vi,geoLagrange:function(){var n=.5,r=Dr(gi),t=r(n);return t.spacing=function(t){return arguments.length?r(n=+t):n},t.scale(124.75)},geoLagrangeRaw:gi,geoLarrivee:function(){return Wr(pi).scale(97.2672)},geoLarriveeRaw:pi,geoLaskowski:function(){return Wr(hi).scale(139.98)},geoLaskowskiRaw:hi,geoLittrow:function(){return Wr(di).scale(144.049).clipAngle(89.999)},geoLittrowRaw:di,geoLoximuthal:function(){return Vt(yi).parallel(40).scale(158.837)},geoLoximuthalRaw:yi,geoMiller:function(){return Wr(mi).scale(108.318)},geoMillerRaw:mi,geoModifiedStereographic:Pi,geoModifiedStereographicRaw:wi,geoModifiedStereographicAlaska:function(){return Pi(Ei,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},geoModifiedStereographicGs48:function(){return Pi(Si,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},geoModifiedStereographicGs50:function(){return Pi(bi,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},geoModifiedStereographicMiller:function(){return Pi(Mi,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},geoModifiedStereographicLee:function(){return Pi(Ri,[165,10]).scale(250).clipAngle(130).center([-165,-10])},geoMollweide:function(){return Wr(Qt).scale(169.529)},geoMollweideRaw:Qt,geoMtFlatPolarParabolic:function(){return Wr(Ni).scale(164.859)},geoMtFlatPolarParabolicRaw:Ni,geoMtFlatPolarQuartic:function(){return Wr(Ai).scale(188.209)},geoMtFlatPolarQuarticRaw:Ai,geoMtFlatPolarSinusoidal:function(){return Wr(Gi).scale(166.518)},geoMtFlatPolarSinusoidalRaw:Gi,geoNaturalEarth:function(){return Wr(Kr).scale(175.295)},geoNaturalEarthRaw:Kr,geoNaturalEarth2:function(){return Wr(Ci).scale(175.295)},geoNaturalEarth2Raw:Ci,geoNellHammer:function(){return Wr(Fi).scale(152.63)},geoNellHammerRaw:Fi,geoInterruptedQuarticAuthalic:function(){return ii(Lt(1/0),zi).rotate([20,0]).scale(152.63)},geoNicolosi:function(){return Wr(Hi).scale(127.267)},geoNicolosiRaw:Hi,geoPatterson:function(){return Wr(Ti).scale(139.319)},geoPattersonRaw:Ti,geoPolyconic:function(){return Wr(Vi).scale(103.74)},geoPolyconicRaw:Vi,geoPolyhedral:Ji,geoPolyhedralButterfly:function(n){n=n||function(n){var r=Un({type:"MultiPoint",coordinates:n});return Or().scale(1).translate([0,0]).rotate([-r[0],-r[1]])};var r=$i.map((function(r){return{face:r,project:n(r)}}));return[-1,0,0,1,0,1,4,5].forEach((function(n,t){var e=r[n];e&&(e.children||(e.children=[])).push(r[t])})),Ji(r[0],(function(n,t){return r[n<-st/2?t<0?6:4:n<0?t<0?2:0:n<st/2?t<0?3:1:t<0?7:5]})).angle(-30).scale(101.858).center([0,45])},geoPolyhedralCollignon:function(n){n=n||function(n){var r=Un({type:"MultiPoint",coordinates:n});return Wr(ro).translate([0,0]).scale(1).rotate(r[1]>0?[-r[0],0]:[180-r[0],180])};var r=$i.map((function(r){return{face:r,project:n(r)}}));return[-1,0,0,1,0,1,4,5].forEach((function(n,t){var e=r[n];e&&(e.children||(e.children=[])).push(r[t])})),Ji(r[0],(function(n,t){return r[n<-st/2?t<0?6:4:n<0?t<0?2:0:n<st/2?t<0?3:1:t<0?7:5]})).angle(-30).scale(121.906).center([0,48.5904])},geoPolyhedralWaterman:function(n){n=n||function(n){var r=6===n.length?Un({type:"MultiPoint",coordinates:n}):n[0];return Or().scale(1).translate([0,0]).rotate([-r[0],-r[1]])};var r=$i.map((function(n){for(var r,t=n.map(io),e=t.length,i=t[e-1],o=[],u=0;u<e;++u)r=t[u],o.push(eo([.9486832980505138*i[0]+.31622776601683794*r[0],.9486832980505138*i[1]+.31622776601683794*r[1],.9486832980505138*i[2]+.31622776601683794*r[2]]),eo([.9486832980505138*r[0]+.31622776601683794*i[0],.9486832980505138*r[1]+.31622776601683794*i[1],.9486832980505138*r[2]+.31622776601683794*i[2]])),i=r;return o})),t=[],e=[-1,0,0,1,0,1,4,5];r.forEach((function(n,i){for(var o,u,a=$i[i],c=a.length,l=t[i]=[],f=0;f<c;++f)r.push([a[f],n[(2*f+2)%(2*c)],n[(2*f+1)%(2*c)]]),e.push(i),l.push((o=io(n[(2*f+2)%(2*c)]),u=io(n[(2*f+1)%(2*c)]),[o[1]*u[2]-o[2]*u[1],o[2]*u[0]-o[0]*u[2],o[0]*u[1]-o[1]*u[0]]))}));var i=r.map((function(r){return{project:n(r),face:r}}));return e.forEach((function(n,r){var t=i[n];t&&(t.children||(t.children=[])).push(i[r])})),Ji(i[0],(function(n,r){var e=nt(r),o=[e*nt(n),e*lt(n),lt(r)],u=n<-st/2?r<0?6:4:n<0?r<0?2:0:n<st/2?r<0?3:1:r<0?7:5,a=t[u];return i[to(a[0],o)<0?8+3*u:to(a[1],o)<0?8+3*u+1:to(a[2],o)<0?8+3*u+2:u]})).angle(-30).scale(110.625).center([0,45])},geoProject:function(n,r){var t,e=r.stream;if(!e)throw new Error("invalid projection");switch(n&&n.type){case"Feature":t=ao;break;case"FeatureCollection":t=uo;break;default:t=co}return t(n,e)},geoGringortenQuincuncial:function(){return po(Fe).scale(176.423)},geoPeirceQuincuncial:ho,geoPierceQuincuncial:ho,geoQuantize:function(n,r){if(!(0<=(r=+r)&&r<=20))throw new Error("invalid digits");function t(n){var t=n.length,e=2,i=new Array(t);for(i[0]=+n[0].toFixed(r),i[1]=+n[1].toFixed(r);e<t;)i[e]=n[e],++e;return i}function e(n){return n.map(t)}function i(n){for(var r=t(n[0]),e=[r],i=1;i<n.length;i++){var o=t(n[i]);(o.length>2||o[0]!=r[0]||o[1]!=r[1])&&(e.push(o),r=o)}return 1===e.length&&n.length>1&&e.push(t(n[n.length-1])),e}function o(n){return n.map(i)}function u(n){if(null==n)return n;var r;switch(n.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:n.geometries.map(u)};break;case"Point":r={type:"Point",coordinates:t(n.coordinates)};break;case"MultiPoint":r={type:n.type,coordinates:e(n.coordinates)};break;case"LineString":r={type:n.type,coordinates:i(n.coordinates)};break;case"MultiLineString":case"Polygon":r={type:n.type,coordinates:o(n.coordinates)};break;case"MultiPolygon":r={type:"MultiPolygon",coordinates:n.coordinates.map(o)};break;default:return n}return null!=n.bbox&&(r.bbox=n.bbox),r}function a(n){var r={type:"Feature",properties:n.properties,geometry:u(n.geometry)};return null!=n.id&&(r.id=n.id),null!=n.bbox&&(r.bbox=n.bbox),r}if(null!=n)switch(n.type){case"Feature":return a(n);case"FeatureCollection":var c={type:"FeatureCollection",features:n.features.map(a)};return null!=n.bbox&&(c.bbox=n.bbox),c;default:return u(n)}return n},geoQuincuncial:po,geoRectangularPolyconic:function(){return Vt(yo).scale(131.215)},geoRectangularPolyconicRaw:yo,geoRobinson:function(){return Wr(wo).scale(152.63)},geoRobinsonRaw:wo,geoSatellite:function(){var n=2,r=0,t=Dr(Eo),e=t(n,r);return e.distance=function(e){return arguments.length?t(n=+e,r):n},e.tilt=function(e){return arguments.length?t(n,r=e*St):r*Et},e.scale(432.147).clipAngle(Mt(1/n)*Et-1e-6)},geoSatelliteRaw:Eo,geoSinuMollweide:function(){return Wr(Xe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},geoSinuMollweideRaw:Xe,geoSinusoidal:function(){return Wr(Ut).scale(152.63)},geoSinusoidalRaw:Ut,geoStitch:function(n){if(null==n)return n;switch(n.type){case"Feature":return Bo(n);case"FeatureCollection":var r={type:"FeatureCollection",features:n.features.map(Bo)};return null!=n.bbox&&(r.bbox=n.bbox),r;default:return jo(n)}},geoTimes:function(){return Wr(Wo).scale(146.153)},geoTimesRaw:Wo,geoTwoPointAzimuthal:qo,geoTwoPointAzimuthalRaw:Qo,geoTwoPointAzimuthalUsa:function(){return qo([-158,21.5],[-77,39]).clipAngle(60).scale(400)},geoTwoPointEquidistant:To,geoTwoPointEquidistantRaw:Io,geoTwoPointEquidistantUsa:function(){return To([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},geoVanDerGrinten:function(){return Wr(Vo).scale(79.4183)},geoVanDerGrintenRaw:Vo,geoVanDerGrinten2:function(){return Wr(Uo).scale(79.4183)},geoVanDerGrinten2Raw:Uo,geoVanDerGrinten3:function(){return Wr(_o).scale(79.4183)},geoVanDerGrinten3Raw:_o,geoVanDerGrinten4:function(){return Wr(Oo).scale(127.16)},geoVanDerGrinten4Raw:Oo,geoWagner:function(){var n=65*St,r=60*St,t=20,e=200,i=Dr(Ko),o=i(n,r,t,e);return o.poleline=function(o){return arguments.length?i(n=+o*St,r,t,e):n*Et},o.parallels=function(o){return arguments.length?i(n,r=+o*St,t,e):r*Et},o.inflation=function(o){return arguments.length?i(n,r,t=+o,e):t},o.ratio=function(o){return arguments.length?i(n,r,t,e=+o):e},o.scale(163.775)},geoWagnerRaw:Ko,geoWagner4:function(){return Wr(Yo).scale(176.84)},geoWagner4Raw:Yo,geoWagner6:function(){return Wr(Zo).scale(152.63)},geoWagner6Raw:Zo,geoWagner7:function(){return Wr($o).scale(172.632)},geoWagner7Raw:$o,geoWiechel:function(){return Wr(nu).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},geoWiechelRaw:nu,geoWinkel3:function(){return Wr(ru).scale(158.837)},geoWinkel3Raw:ru});["airy","aitoff","armadillo","august","baker","berghaus","bertin1953","boggs","bonne","bottomley","bromley","chamberlinAfrica","collignon","craig","craster","cylindricalEqualArea","cylindricalStereographic","eckert1","eckert2","eckert3","eckert4","eckert5","eckert6","eisenlohr","fahey","foucaut","foucautSinusoidal","gilbert","gingery","ginzburg4","ginzburg5","ginzburg6","ginzburg8","ginzburg9","gringorten","guyou","hammer","hammerRetroazimuthal","healpix","hill","homolosine","hufnagel","hyperElliptical","interruptedBoggs","interruptedHomolosine","interruptedMollweide","interruptedMollweideHemispheres","interruptedSinuMollweide","interruptedSinusoidal","interruptedQuarticAuthalic","kavrayskiy7","lagrange","larrivee","laskowski","littrow","loximuthal","miller","modifiedStereographicAlaska","modifiedStereographicGs48","modifiedStereographicGs50","modifiedStereographicMiller","modifiedStereographicLee","mtFlatPolarParabolic","mtFlatPolarQuartic","mtFlatPolarSinusoidal","naturalEarth2","nellHammer","nicolosi","patterson","polyconic","polyhedralButterfly","polyhedralCollignon","polyhedralWaterman","gringortenQuincuncial","peirceQuincuncial","rectangularPolyconic","robinson","satellite","sinuMollweide","sinusoidal","times","twoPointAzimuthalUsa","twoPointEquidistantUsa","vanDerGrinten","vanDerGrinten2","vanDerGrinten3","vanDerGrinten4","wagner","wagner4","wagner6","wagner7","wiechel","winkel3"].forEach((function(r){n.projection(r,tu["geo"+r[0].toUpperCase()+r.slice(1)])}))}));