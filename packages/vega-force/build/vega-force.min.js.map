{"version":3,"file":"vega-force.min.js","sources":["../../../node_modules/d3-quadtree/src/add.js","../../../node_modules/d3-quadtree/src/quad.js","../../../node_modules/d3-quadtree/src/x.js","../../../node_modules/d3-quadtree/src/y.js","../../../node_modules/d3-quadtree/src/quadtree.js","../../../node_modules/d3-force/src/constant.js","../../../node_modules/d3-force/src/jiggle.js","../../../node_modules/d3-force/src/collide.js","../../../node_modules/d3-force/src/link.js","../../../node_modules/d3-quadtree/src/cover.js","../../../node_modules/d3-quadtree/src/data.js","../../../node_modules/d3-quadtree/src/extent.js","../../../node_modules/d3-quadtree/src/find.js","../../../node_modules/d3-quadtree/src/remove.js","../../../node_modules/d3-quadtree/src/root.js","../../../node_modules/d3-quadtree/src/size.js","../../../node_modules/d3-quadtree/src/visit.js","../../../node_modules/d3-quadtree/src/visitAfter.js","../../../node_modules/d3-dispatch/src/dispatch.js","../../../node_modules/d3-timer/src/timer.js","../../../node_modules/d3-force/src/lcg.js","../../../node_modules/d3-force/src/simulation.js","../src/Force.js","../../../node_modules/d3-force/src/center.js","../../../node_modules/d3-force/src/manyBody.js","../../../node_modules/d3-force/src/x.js","../../../node_modules/d3-force/src/y.js"],"sourcesContent":["export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {Transform} from 'vega-dataflow';\nimport {\n  accessorFields, array, error, hasOwnProperty,\n  inherits, isFunction\n} from 'vega-util';\nimport {\n  forceCenter, forceCollide, forceLink,\n  forceManyBody, forceSimulation, forceX, forceY\n} from 'd3-force';\n\nconst ForceMap = {\n  center: forceCenter,\n  collide: forceCollide,\n  nbody: forceManyBody,\n  link: forceLink,\n  x: forceX,\n  y: forceY\n};\n\nconst Forces = 'forces',\n      ForceParams = [\n        'alpha', 'alphaMin', 'alphaTarget',\n        'velocityDecay', 'forces'\n      ],\n      ForceConfig = ['static', 'iterations'],\n      ForceOutput = ['x', 'y', 'vx', 'vy'];\n\n/**\n * Force simulation layout.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {Array<object>} params.forces - The forces to apply.\n */\nexport default function Force(params) {\n  Transform.call(this, null, params);\n}\n\nForce.Definition = {\n  'type': 'Force',\n  'metadata': {'modifies': true},\n  'params': [\n    { 'name': 'static', 'type': 'boolean', 'default': false },\n    { 'name': 'restart', 'type': 'boolean', 'default': false },\n    { 'name': 'iterations', 'type': 'number', 'default': 300 },\n    { 'name': 'alpha', 'type': 'number', 'default': 1 },\n    { 'name': 'alphaMin', 'type': 'number', 'default': 0.001 },\n    { 'name': 'alphaTarget', 'type': 'number', 'default': 0 },\n    { 'name': 'velocityDecay', 'type': 'number', 'default': 0.4 },\n    { 'name': 'forces', 'type': 'param', 'array': true,\n      'params': [\n        {\n          'key': {'force': 'center'},\n          'params': [\n            { 'name': 'x', 'type': 'number', 'default': 0 },\n            { 'name': 'y', 'type': 'number', 'default': 0 }\n          ]\n        },\n        {\n          'key': {'force': 'collide'},\n          'params': [\n            { 'name': 'radius', 'type': 'number', 'expr': true },\n            { 'name': 'strength', 'type': 'number', 'default': 0.7 },\n            { 'name': 'iterations', 'type': 'number', 'default': 1 }\n          ]\n        },\n        {\n          'key': {'force': 'nbody'},\n          'params': [\n            { 'name': 'strength', 'type': 'number', 'default': -30, 'expr': true },\n            { 'name': 'theta', 'type': 'number', 'default': 0.9 },\n            { 'name': 'distanceMin', 'type': 'number', 'default': 1 },\n            { 'name': 'distanceMax', 'type': 'number' }\n          ]\n        },\n        {\n          'key': {'force': 'link'},\n          'params': [\n            { 'name': 'links', 'type': 'data' },\n            { 'name': 'id', 'type': 'field' },\n            { 'name': 'distance', 'type': 'number', 'default': 30, 'expr': true },\n            { 'name': 'strength', 'type': 'number', 'expr': true },\n            { 'name': 'iterations', 'type': 'number', 'default': 1 }\n          ]\n        },\n        {\n          'key': {'force': 'x'},\n          'params': [\n            { 'name': 'strength', 'type': 'number', 'default': 0.1 },\n            { 'name': 'x', 'type': 'field' }\n          ]\n        },\n        {\n          'key': {'force': 'y'},\n          'params': [\n            { 'name': 'strength', 'type': 'number', 'default': 0.1 },\n            { 'name': 'y', 'type': 'field' }\n          ]\n        }\n      ] },\n    {\n      'name': 'as', 'type': 'string', 'array': true, 'modify': false,\n      'default': ForceOutput\n    }\n  ]\n};\n\ninherits(Force, Transform, {\n  transform(_, pulse) {\n    var sim = this.value,\n        change = pulse.changed(pulse.ADD_REM),\n        params = _.modified(ForceParams),\n        iters = _.iterations || 300;\n\n    // configure simulation\n    if (!sim) {\n      this.value = sim = simulation(pulse.source, _);\n      sim.on('tick', rerun(pulse.dataflow, this));\n      if (!_.static) {\n        change = true;\n        sim.tick(); // ensure we run on init\n      }\n      pulse.modifies('index');\n    } else {\n      if (change) {\n        pulse.modifies('index');\n        sim.nodes(pulse.source);\n      }\n      if (params || pulse.changed(pulse.MOD)) {\n        setup(sim, _, 0, pulse);\n      }\n    }\n\n    // run simulation\n    if (params || change || _.modified(ForceConfig)\n        || (pulse.changed() && _.restart))\n    {\n      sim.alpha(Math.max(sim.alpha(), _.alpha || 1))\n        .alphaDecay(1 - Math.pow(sim.alphaMin(), 1 / iters));\n\n      if (_.static) {\n        for (sim.stop(); --iters >= 0;) sim.tick();\n      } else {\n        if (sim.stopped()) sim.restart();\n        if (!change) return pulse.StopPropagation; // defer to sim ticks\n      }\n    }\n\n    return this.finish(_, pulse);\n  },\n\n  finish(_, pulse) {\n    const dataflow = pulse.dataflow;\n\n    // inspect dependencies, touch link source data\n    for (let args=this._argops, j=0, m=args.length, arg; j<m; ++j) {\n      arg = args[j];\n      if (arg.name !== Forces || arg.op._argval.force !== 'link') {\n        continue;\n      }\n      for (var ops=arg.op._argops, i=0, n=ops.length, op; i<n; ++i) {\n        if (ops[i].name === 'links' && (op = ops[i].op.source)) {\n          dataflow.pulse(op, dataflow.changeset().reflow());\n          break;\n        }\n      }\n    }\n\n    // reflow all nodes\n    return pulse.reflow(_.modified()).modifies(ForceOutput);\n  }\n});\n\nfunction rerun(df, op) {\n  return () => df.touch(op).run();\n}\n\nfunction simulation(nodes, _) {\n  const sim = forceSimulation(nodes),\n        stop = sim.stop,\n        restart = sim.restart;\n  let stopped = false;\n\n  sim.stopped = () => stopped;\n  sim.restart = () => (stopped = false, restart());\n  sim.stop = () => (stopped = true, stop());\n\n  return setup(sim, _, true).on('end', () => stopped = true);\n}\n\nfunction setup(sim, _, init, pulse) {\n  var f = array(_.forces), i, n, p, name;\n\n  for (i=0, n=ForceParams.length; i<n; ++i) {\n    p = ForceParams[i];\n    if (p !== Forces && _.modified(p)) sim[p](_[p]);\n  }\n\n  for (i=0, n=f.length; i<n; ++i) {\n    name = Forces + i;\n    p = init || _.modified(Forces, i) ? getForce(f[i])\n      : pulse && modified(f[i], pulse) ? sim.force(name)\n      : null;\n    if (p) sim.force(name, p);\n  }\n\n  for (n=(sim.numForces || 0); i<n; ++i) {\n    sim.force(Forces + i, null); // remove\n  }\n\n  sim.numForces = f.length;\n  return sim;\n}\n\nfunction modified(f, pulse) {\n  var k, v;\n  for (k in f) {\n    if (isFunction(v = f[k]) && pulse.modified(accessorFields(v)))\n      return 1;\n  }\n  return 0;\n}\n\nfunction getForce(_) {\n  var f, p;\n\n  if (!hasOwnProperty(ForceMap, _.force)) {\n    error('Unrecognized force: ' + _.force);\n  }\n  f = ForceMap[_.force]();\n\n  for (p in _) {\n    if (isFunction(f[p])) setForceParam(f[p], _[p], _);\n  }\n\n  return f;\n}\n\nfunction setForceParam(f, v, _) {\n  f(isFunction(v) ? d => v(d, _) : v);\n}\n","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n"],"names":["add","tree","x","y","d","isNaN","parent","xm","ym","xp","yp","right","bottom","i","j","node","_root","leaf","data","x0","_x0","y0","_y0","x1","_x1","y1","_y1","length","_x","call","_y","next","Array","Quad","this","defaultX","defaultY","quadtree","nodes","Quadtree","NaN","addAll","undefined","leaf_copy","copy","treeProto","prototype","constant","jiggle","random","vx","vy","index","find","nodeById","nodeId","get","Error","child","source","target","pop","push","cover","n","xz","yz","Infinity","Math","floor","z","visit","extent","_","arguments","radius","x2","y2","q","x3","y3","quads","dx","dy","d2","sqrt","remove","retainer","previous","removeAll","root","size","callback","visitAfter","noop","value","dispatch","t","test","Dispatch","type","name","c","set","slice","concat","constructor","on","typename","types","T","trim","split","map","indexOf","hasOwnProperty","that","args","apply","taskHead","taskTail","frame","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","window","requestAnimationFrame","bind","f","setTimeout","clearNow","Timer","_call","_time","_next","timer","delay","time","restart","wake","e","timerFlush","t0","t2","t1","sleep","nap","poke","clearTimeout","clearInterval","setInterval","TypeError","stop","a","m","initialRadius","initialAngle","PI","forceSimulation","simulation","alpha","alphaMin","alphaDecay","pow","alphaTarget","velocityDecay","forces","Map","stepper","step","event","s","lcg","tick","iterations","k","forEach","force","fx","fy","initializeNodes","angle","cos","sin","initializeForce","initialize","randomSource","delete","closest","ForceMap","center","strength","sx","sy","collide","radii","xi","yi","ri","ri2","prepare","quad","rj","r","l","_nodes","_random","nbody","strengths","distanceMin2","distanceMax2","theta2","accumulate","weight","abs","w","distanceMin","distanceMax","theta","link","links","distances","count","bias","id","min","distance","b","initializeStrength","initializeDistance","Forces","ForceParams","ForceConfig","ForceOutput","Force","params","Transform","setup","sim","init","pulse","p","array","modified","getForce","numForces","v","isFunction","accessorFields","error","setForceParam","Definition","metadata","modifies","default","key","expr","modify","inherits","transform","df","op","change","changed","ADD_REM","iters","MOD","stopped","dataflow","touch","run","static","max","StopPropagation","finish","arg","_argops","_argval","ops","changeset","reflow"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,23,24,25,26]}